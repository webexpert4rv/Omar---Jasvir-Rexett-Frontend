"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[5709],{54922:(e,a,s)=>{s.d(a,{A:()=>A});var l=s(65043),o=s(61072),n=s(78602),r=s(73722),i=s(60184),t=s(3538),d=s(83003),c=s(74117),m=s(4970),u=s(13368),p=s(82476),v=s(1071),x=s(16713),h=s(75210),y=s(22630);var j=s(24858),b=s(2364);var _=s(70579);const g=e=>{var a;let{control:s,name:o,errors:n,options:i,required:t,label:d,type:c}=e;const[m,u]=(0,l.useState)([]);return(0,l.useEffect)((()=>{const e=((e,a)=>{console.log(e,"options inside countries select");let s=[];return s="timezones"===a?null===e||void 0===e?void 0:e.map((e=>({label:e,value:e}))):null===e||void 0===e?void 0:e.map((e=>{let{name:s,code:l,isoCode:o}=e;return{label:s,value:"country"===a?l:o}})),s})(i,c);u(e)}),[i]),(0,_.jsxs)(r.A.Group,{className:"mb-3",children:[(0,_.jsxs)(r.A.Label,{className:"common-label",children:[d,t&&"*"]}),(0,_.jsx)(j.xI,{name:o,control:s,rules:{required:{value:!!t,message:t}},render:e=>{let{field:a}=e;return(0,_.jsx)(b.Ay,{className:"common-field",...a,options:m})}}),n[o]&&(0,_.jsx)("p",{className:"error-message",children:null===(a=n[o])||void 0===a?void 0:a.message})]})};s(37194);const A=e=>{var a;let{role:s}=e;const b=localStorage.getItem("userId"),[A,f]=(0,l.useState)(null),[N,w]=(0,l.useState)(!1),[C,L]=(0,l.useState)(!1),{allTimeZones:P,countriesList:q,statesList:S,citiesList:k,timeZones:F}=(0,d.d4)((e=>e.clientData)),{t:D}=(0,c.Bd)(),{register:I,setValue:T,watch:z,control:G,handleSubmit:E,formState:{errors:V,isDirty:B,isValid:K,isSubmitting:H}}=(0,j.mN)({}),Z=(0,d.wA)(),[O,R]=(0,l.useState)(!1),[U,$]=(0,l.useState)("inactive"),[Q,Y]=(0,l.useState)({firstPass:!1,secondPass:!1}),[M,X]=(0,l.useState)(null),{smallLoader:J,userProfileDetails:W,screenLoader:ee}=(0,d.d4)((e=>e.developerData)),ae="AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc";(0,l.useEffect)((()=>{let e=(e=>({developer:"developer/get-profile",admin:"admin/profile",client:"client/get-profile"}[e]))(s);Z((0,u.i7)(e)),Z((0,m.Zg)())}),[Z]),(0,l.useEffect)((()=>{var e,a,s;null!==(e=z("country"))&&void 0!==e&&e.value&&(Z((0,m.tM)(null===(a=z("country"))||void 0===a?void 0:a.value)),Z((0,m.HM)(null===(s=z("country"))||void 0===s?void 0:s.value)),T("time_zone",null),T("state",null))}),[z("country")]),(0,l.useEffect)((()=>{var e,a,s;null!==(e=z("state"))&&void 0!==e&&e.value&&(Z((0,m.YF)(null===(a=z("country"))||void 0===a?void 0:a.value,null===(s=z("state"))||void 0===s?void 0:s.label)),T("city",null))}),[z("state")]),(0,l.useEffect)((()=>{var e,a,s,l,o,n,r,i,t,d,c,m,u;null!==W&&void 0!==W&&W.data&&(T("name",null===W||void 0===W||null===(e=W.data)||void 0===e?void 0:e.name),T("email",null===W||void 0===W||null===(a=W.data)||void 0===a?void 0:a.email),T("phone_number",null===W||void 0===W||null===(s=W.data)||void 0===s?void 0:s.phone_number),T("address",null===W||void 0===W||null===(l=W.data)||void 0===l?void 0:l.address),T("address_2",null===W||void 0===W||null===(o=W.data)||void 0===o?void 0:o.address_2),T("city",null===W||void 0===W||null===(n=W.data)||void 0===n?void 0:n.city),T("country",null===W||void 0===W||null===(r=W.data)||void 0===r?void 0:r.country),T("passcode",null===W||void 0===W||null===(i=W.data)||void 0===i?void 0:i.passcode),T("country",null===W||void 0===W||null===(t=W.data)||void 0===t?void 0:t.country),T("time_zone",null===W||void 0===W||null===(d=W.data)||void 0===d?void 0:d.time_zone),T("state",null===W||void 0===W||null===(c=W.data)||void 0===c?void 0:c.state),null!==W&&void 0!==W&&null!==(m=W.data)&&void 0!==m&&m.is_2FA_enabled?T("is_2FA_enabled",null===W||void 0===W||null===(u=W.data)||void 0===u?void 0:u.is_2FA_enabled):T("is_2FA_enabled",!1))}),[W]);const se=e=>{if(""===e)return!0;if(!/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e))return"Password must contain at least a symbol, upper and lower case letters and a number";return!0},le=()=>w(!1);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:ee?(0,_.jsx)(p.A,{}):(0,_.jsxs)("form",{onSubmit:E((e=>{let a=(e=>({developer:"common/update-profile/",admin:"admin/update-profile",client:"client/update-profile/"}[e]))(s),l=new FormData,o=new FormData;for(const s in e)l.append(s,e[s]);if(o.append("file",M),null==M){let s={...e,user_id:b};Z((0,u.Vk)(s,a))}else Z((0,m.C7)(o,(s=>{let l={...e,profile_picture:s,user_id:b};Z((0,u.Vk)(l,a))})))})),noValidate:!0,children:[(0,_.jsxs)(o.A,{className:"mb-4",children:[(0,_.jsx)(n.A,{md:"6",children:(0,_.jsxs)("div",{className:"inner-form",children:[(0,_.jsx)(h.A,{label:D("clientName")+" *",name:"name",control:G,rules:{required:"Name is required"},error:V.name}),(0,_.jsx)(h.A,{label:D("email")+" *",name:"email",control:G,rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}},error:V.email,readOnly:!0}),(0,_.jsx)(h.A,{label:D("previousPassword"),name:"previous_password",control:G,type:Q.firstPass?"text":"password",rules:{validate:se},error:V.previous_password,isPassword:!0,onTogglePassword:()=>Y({...Q,firstPass:!Q.firstPass}),icon:(0,_.jsx)(i.Ny1,{})}),(0,_.jsx)(h.A,{label:D("newPassword"),name:"password",control:G,type:Q.secondPass?"text":"password",rules:{validate:se},error:V.password,isPassword:!0,onTogglePassword:()=>Y({...Q,secondPass:!Q.secondPass}),icon:(0,_.jsx)(i.Ny1,{})}),(0,_.jsx)(y.A,{label:D("address")+" *",name:"address",control:G,rules:{required:"Address is required"},error:V.address,apiKey:ae,onPlaceSelected:e=>{T("address",e.formatted_address)},onChange:e=>{T("address",e.target.value)},options:{types:["establishment","geocode"]},r:!0}),(0,_.jsx)(y.A,{label:D("address")+" 2",name:"address_2",control:G,rules:{required:!1},error:V.address_2,apiKey:ae,onPlaceSelected:e=>{T("address_2",e.formatted_address)},onChange:e=>{T("address_2",e.target.value)},options:{types:["establishment","geocode"]}})]})}),(0,_.jsx)(n.A,{md:"6",children:(0,_.jsxs)("div",{children:[(0,_.jsx)(h.A,{label:D("phone")+"*",name:"phone_number",control:G,type:"text",rules:{required:"Phone Number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid phone number"}},error:V.phone_number}),(0,_.jsx)(g,{name:"country",errors:V,control:G,required:"Country is required",label:"Country",type:"country",options:q}),(0,_.jsx)(g,{name:"state",errors:V,control:G,required:"State is required",label:"State",type:"state",options:S}),(0,_.jsx)(g,{name:"city",errors:V,control:G,label:"City",type:"city",options:k}),(0,_.jsx)(g,{name:"time_zone",errors:V,type:"timezones",control:G,options:F,required:"Time zone is required",label:"Time Zone"}),(0,_.jsx)(h.A,{label:D("postCode")+"*",name:"passcode",control:G,rules:{required:"Postcode is required",pattern:{value:/^[0-9]+$/,message:"Postcode should only contain numbers"}},error:V.passcode}),(0,_.jsx)(r.A.Label,{children:"Image*"}),(0,_.jsxs)(r.A.Label,{htmlFor:"developer-image",className:"upload-image-label d-block",children:[(0,_.jsx)(t.pT4,{}),D("uploadImage")]}),(0,_.jsx)(j.xI,{name:"profile_picture",control:G,rules:{required:!1},render:e=>{let{field:a}=e;return(0,_.jsx)("input",{...a,id:"developer-image",className:"visually-hidden common-field",type:"file",accept:"image/*",onChange:e=>(e=>{const a=e.target.files[0];if(X(a),a){const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(a)}})(e)})}}),(0,_.jsx)("div",{children:(0,_.jsx)("img",{src:A||(null===W||void 0===W||null===(a=W.data)||void 0===a?void 0:a.profile_picture),alt:"Selected",className:"uploaded-image"})})]})}),(0,_.jsx)(n.A,{md:"6",children:(0,_.jsxs)(r.A.Group,{className:"mb-3",children:[(0,_.jsx)(r.A.Label,{className:"common-label",children:"Enable Two Factor Authentication"}),(0,_.jsx)("div",{class:"form-check form-switch toggle-switch-wrapper",children:(0,_.jsx)(j.xI,{name:"is_2FA_enabled",control:G,render:e=>{let{field:a}=e;return(0,_.jsx)("input",{...a,onChange:e=>{(e=>{const{checked:a}=null===e||void 0===e?void 0:e.target;w(!N),L(a)})(e)},checked:!0===z("is_2FA_enabled"),class:"form-check-input toggle-switch-custom",type:"checkbox",role:"switch"})}})})]})})]}),(0,_.jsx)("div",{className:"text-center",children:(0,_.jsx)(v.A,{type:"submit",text:D("updateProfile"),className:"main-btn px-5",variant:"transparent",disabled:J,isLoading:J})})]})}),(0,_.jsx)(x.A,{show:O,handleClose:()=>{$(!U),R(!1)},onClick:()=>{let e={user_id:+b,status:U};Z((0,m.Ts)(e))},smallLoader:J,text:"Are you sure, you want to disable your account"}),N&&(0,_.jsx)(x.A,{show:N,handleClose:le,handleAction:()=>{T("is_2FA_enabled",C),le()},smallLoader:J,text:"Are you sure, you want to ".concat(C?"enable":"disable"," two factor authentication")})]})}},33027:(e,a,s)=>{s.d(a,{A:()=>n});s(65043);var l=s(74117),o=s(70579);const n=e=>{let{children:a}=e;const{t:s}=(0,l.Bd)();return(0,o.jsxs)("section",{className:"card-box",children:[(0,o.jsx)("div",{className:"d-flex gap-3 align-items-center pb-2 mb-3 border-bottom-grey",children:(0,o.jsx)("h2",{className:"section-head-sub mb-0 border-0",children:s("updateYourProfile")})}),a]})}},25709:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});var l=s(65043),o=s(5328),n=s(92843),r=s(74117),i=s(54922),t=s(33027),d=s(61072),c=s(78602),m=s(73722),u=s(24858),p=s(50423),v=(s(620),s(1071)),x=s(83003),h=s(4970),y=s(29212),j=s(22630),b=s(70579);const _=()=>{var e,a,s,o,n;const i=localStorage.getItem("userId"),[t,_]=(0,l.useState)(null),{register:g,control:A,setValue:f,watch:N,trigger:w,handleSubmit:C,formState:{errors:L,isDirty:P,isValid:q,isSubmitting:S}}=(0,u.mN)({}),k=(0,x.wA)(),{t:F}=(0,r.Bd)(),{smallLoader:D,clientProfileDetails:I,screenLoader:T,approvedLoader:z}=(0,x.d4)((e=>e.clientData));(0,l.useEffect)((()=>{k((0,h.RY)())}),[k]),(0,l.useEffect)((()=>{var e,a,s,l,o,n;(f("company_address",null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.company_address),f("company_name",null===I||void 0===I||null===(a=I.data)||void 0===a?void 0:a.company_name),f("company_tax_id",null===I||void 0===I||null===(s=I.data)||void 0===s?void 0:s.company_tax_id),f("company_type",null===I||void 0===I||null===(l=I.data)||void 0===l?void 0:l.company_type),null!==I&&void 0!==I&&null!==(o=I.data)&&void 0!==o&&o.company_logo)&&_(null===I||void 0===I||null===(n=I.data)||void 0===n?void 0:n.company_logo)}),[I]);return(0,b.jsx)("div",{children:(0,b.jsx)("form",{onSubmit:C((e=>{const a=N(),s={...e,password:a.password?a.password:null,previous_password:a.previous_password?a.previous_password:null,client_type:"company"};if(void 0!==(null===e||void 0===e?void 0:e.company_logo.name)){let a=new FormData;a.append("file",null===e||void 0===e?void 0:e.company_logo),k((0,h.C7)(a,(e=>{let a={...s,company_logo:e,user_id:i};k((0,h.Uj)(a))})))}else{let e={...s,company_logo:t,user_id:i};k((0,h.Uj)(e))}})),noValidate:!0,children:(0,b.jsxs)(d.A,{children:[(0,b.jsx)(c.A,{md:12,children:(0,b.jsxs)(m.A.Group,{className:"mb-4",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Company Logo"}),(0,b.jsx)(m.A.Control,{...g("company_logo",{onChange:e=>(e=>{var a,s;const l=null===e||void 0===e||null===(a=e.target)||void 0===a||null===(s=a.files)||void 0===s?void 0:s[0];if(l)if(["image/jpeg","image/png","image/jpg","image/svg"].includes(l.type)){const e=URL.createObjectURL(l);f("company_logo",l),_(e)}else _(null),f("company_logo",null)})(e)}),type:"file",id:"company_logo_file",placeholder:"Company Name",className:"common-field d-none"}),(0,b.jsxs)("div",{className:"file_shown",children:[(0,b.jsx)("img",{src:t||y,alt:"Company Logo"}),(0,b.jsx)(m.A.Label,{htmlFor:"company_logo_file",className:"camera-btn mb-0",children:(0,b.jsx)(p.NQQ,{})})]}),(null===L||void 0===L?void 0:L.company_logo)&&(0,b.jsx)("p",{className:"error-message",children:null===(e=L.company_logo)||void 0===e?void 0:e.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Company Name*"}),(0,b.jsx)(m.A.Control,{...g("company_name",{required:"Company name is required"}),type:"text",placeholder:"Company Name",className:"common-field"}),(null===L||void 0===L?void 0:L.company_name)&&(0,b.jsx)("p",{className:"error-message",children:null===(a=L.company_name)||void 0===a?void 0:a.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Type of Company*"}),(0,b.jsxs)(m.A.Select,{...g("company_type",{required:"Company type is required"}),className:"common-field",children:[(0,b.jsx)("option",{disabled:!0,selected:!0,value:"",children:"Please select company type"}),(0,b.jsx)("option",{value:"sole_partnership",children:"Sole Partnership"}),(0,b.jsx)("option",{value:"partnership",children:"Partnership"}),(0,b.jsx)("option",{value:"limited_liability_company(LLC)",children:"Limited Liability Company(LLC)"}),(0,b.jsx)("option",{value:"corporation",children:"Corporation"}),(0,b.jsx)("option",{value:"nonprofit_organization",children:"Nonprofit Organization"}),(0,b.jsx)("option",{value:"cooperative",children:"Cooperative"}),(0,b.jsx)("option",{value:"franchise",children:"Franchise"}),(0,b.jsx)("option",{value:"joint_venture",children:"Joint Venture"})]}),(null===L||void 0===L?void 0:L.company_type)&&(0,b.jsx)("p",{className:"error-message",children:null===(s=L.company_type)||void 0===s?void 0:s.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(j.A,{label:F("Company Address")+" *",name:"company_address",control:A,rules:{required:"Company Address is required"},error:L.company_address,apiKey:"AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc",onPlaceSelected:e=>{f("company_address",e.formatted_address)},onChange:e=>{f("company_address",e.target.value)},options:{types:["establishment","geocode"]}}),(null===L||void 0===L?void 0:L.company_address)&&(0,b.jsx)("p",{className:"error-message",children:null===(o=L.company_address)||void 0===o?void 0:o.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Tax ID*"}),(0,b.jsx)(m.A.Control,{...g("company_tax_id",{required:"Company tax id is required"}),name:"company_tax_id",type:"text",placeholder:"Tax Id",className:"common-field"}),(null===L||void 0===L?void 0:L.company_tax_id)&&(0,b.jsx)("p",{className:"error-message",children:null===(n=L.company_tax_id)||void 0===n?void 0:n.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(v.A,{type:"submit",text:F("updateProfile"),className:"main-btn px-5 mt-4",variant:"transparent",disabled:D,isLoading:D})})})]})})})},g=()=>{const{t:e}=(0,r.Bd)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(t.A,{children:(0,b.jsx)("section",{className:"card-box",children:(0,b.jsxs)(o.A.Container,{id:"left-tabs-example",defaultActiveKey:"personal_details",children:[(0,b.jsxs)(n.A,{variant:"pills",className:"mb-4 application-pills",children:[(0,b.jsx)(n.A.Item,{className:"application-item",children:(0,b.jsx)(n.A.Link,{className:"application-link",eventKey:"personal_details",children:"Personal Details"})}),(0,b.jsx)(n.A.Item,{className:"application-item",children:(0,b.jsx)(n.A.Link,{className:"application-link",eventKey:"company_details",children:"Company Details"})})]}),(0,b.jsxs)(o.A.Content,{children:[(0,b.jsx)(o.A.Pane,{eventKey:"personal_details",children:(0,b.jsx)(i.A,{role:"client"})}),(0,b.jsx)(o.A.Pane,{eventKey:"company_details",children:(0,b.jsx)(_,{role:"client"})})]})]})})})})}},16713:(e,a,s)=>{s.d(a,{A:()=>t});s(65043);var l=s(25284),o=s(73722),n=s(14282),r=s(1071),i=(s(4970),s(70579));const t=e=>{let{text:a,show:s,handleClose:t,onClick:d,handleAction:c,smallLoader:m,type:u,startDate:p,endDate:v}=e;return(0,i.jsxs)(l.A,{show:s,onHide:e=>t(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,i.jsx)(l.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,i.jsx)(l.A.Body,{children:(0,i.jsxs)(o.A,{children:[(0,i.jsx)(o.A.Group,{className:"mb-4",children:(0,i.jsx)(o.A.Label,{className:"d-block text-center",children:a})}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(r.A,{type:"submit",text:"Yes",onClick:u?e=>{d(e,{status:u})}:c,className:"main-btn px-4 me-3 font-14 fw-semibold",variant:"transparent",disabled:m,isLoading:m}),(0,i.jsx)(n.A,{variant:"transparent",onClick:t,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4",children:"No"})]})]})})]})}},29212:(e,a,s)=>{e.exports=s.p+"static/media/amazon.1b5b780a2155c1ab6c26.png"}}]);
//# sourceMappingURL=5709.1b90d4cb.chunk.js.map