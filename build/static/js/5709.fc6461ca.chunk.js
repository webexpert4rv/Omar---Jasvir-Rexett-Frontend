"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[5709],{12751:(e,l,a)=>{a.d(l,{A:()=>d});var o=a(65043),s=a(73722),i=a(24858),n=a(2364);var r=a(70579);const d=e=>{var l;let{control:a,name:d,errors:t,options:c,required:m,label:u,type:p}=e;const[v,y]=(0,o.useState)([]);return(0,o.useEffect)((()=>{const e=((e,l)=>{console.log(e,"options inside countries select");let a=[];return a="timezones"===l?null===e||void 0===e?void 0:e.map((e=>({label:e,value:e}))):null===e||void 0===e?void 0:e.map((e=>{let{name:a,code:o,isoCode:s}=e;return{label:a,value:"country"===l?o:s}})),a})(c,p);y(e)}),[c]),(0,r.jsxs)(s.A.Group,{className:"mb-3",children:[(0,r.jsxs)(s.A.Label,{className:"common-label",children:[u,m&&"*"]}),(0,r.jsx)(i.xI,{name:d,control:a,rules:{required:{value:!!m,message:m}},render:e=>{let{field:l}=e;return(0,r.jsx)(n.Ay,{className:"common-field",...l,options:v})}}),t[d]&&(0,r.jsx)("p",{className:"error-message",children:null===(l=t[d])||void 0===l?void 0:l.message})]})}},75112:(e,l,a)=>{a.d(l,{A:()=>g});var o=a(65043),s=a(61072),i=a(78602),n=a(73722),r=a(60184),d=a(3538),t=a(83003),c=a(74117),m=a(4970),u=a(13368),p=a(82476),v=a(1071),y=a(16713),x=a(75210),h=a(22630);var b=a(24858),j=a(12751),_=(a(37194),a(70579));const g=e=>{var l;let{role:a}=e;const g=localStorage.getItem("userId"),[f,A]=(0,o.useState)(null),[N,w]=(0,o.useState)(!1),[C,L]=(0,o.useState)(!1),{allTimeZones:P,countriesList:q,statesList:S,citiesList:F,timeZones:k}=(0,t.d4)((e=>e.clientData)),{t:z}=(0,c.Bd)(),{register:I,setValue:T,watch:D,control:E,handleSubmit:G,formState:{errors:V,isDirty:K,isValid:Z,isSubmitting:B}}=(0,b.mN)({}),H=(0,t.wA)(),[O,R]=(0,o.useState)(!1),[U,$]=(0,o.useState)("inactive"),[Q,Y]=(0,o.useState)({firstPass:!1,secondPass:!1}),[M,X]=(0,o.useState)(null),{smallLoader:J,userProfileDetails:W,screenLoader:ee}=(0,t.d4)((e=>e.developerData)),le="AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc";(0,o.useEffect)((()=>{let e=(e=>({developer:"developer/get-profile",admin:"admin/profile",client:"client/get-profile"}[e]))(a);H((0,u.i7)(e)),H((0,m.Zg)())}),[H]),(0,o.useEffect)((()=>{var e,l,a;null!==(e=D("country"))&&void 0!==e&&e.value&&(H((0,m.tM)(null===(l=D("country"))||void 0===l?void 0:l.value)),H((0,m.HM)(null===(a=D("country"))||void 0===a?void 0:a.value)),T("time_zone",null),T("state",null))}),[D("country")]),(0,o.useEffect)((()=>{var e,l,a;null!==(e=D("state"))&&void 0!==e&&e.value&&(H((0,m.YF)(null===(l=D("country"))||void 0===l?void 0:l.value,null===(a=D("state"))||void 0===a?void 0:a.value)),T("city",null))}),[D("state")]),(0,o.useEffect)((()=>{var e,l,a,o,s,i,n,r,d,t,c,m,u;null!==W&&void 0!==W&&W.data&&(T("name",null===W||void 0===W||null===(e=W.data)||void 0===e?void 0:e.name),T("email",null===W||void 0===W||null===(l=W.data)||void 0===l?void 0:l.email),T("phone_number",null===W||void 0===W||null===(a=W.data)||void 0===a?void 0:a.phone_number),T("address",null===W||void 0===W||null===(o=W.data)||void 0===o?void 0:o.address),T("address_2",null===W||void 0===W||null===(s=W.data)||void 0===s?void 0:s.address_2),T("city",{label:null===W||void 0===W||null===(i=W.data)||void 0===i?void 0:i.city,value:null}),T("country",{label:null===W||void 0===W||null===(n=W.data)||void 0===n?void 0:n.country,value:null}),T("passcode",null===W||void 0===W||null===(r=W.data)||void 0===r?void 0:r.passcode),T("time_zone",{label:null===W||void 0===W||null===(d=W.data)||void 0===d?void 0:d.time_zone,value:null===W||void 0===W||null===(t=W.data)||void 0===t?void 0:t.time_zone}),T("state",{label:null===W||void 0===W||null===(c=W.data)||void 0===c?void 0:c.state,value:null}),null!==W&&void 0!==W&&null!==(m=W.data)&&void 0!==m&&m.is_2FA_enabled?T("is_2FA_enabled",null===W||void 0===W||null===(u=W.data)||void 0===u?void 0:u.is_2FA_enabled):T("is_2FA_enabled",!1))}),[W]);const ae=e=>{if(""===e)return!0;if(!/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e))return"Password must contain at least a symbol, upper and lower case letters and a number";return!0},oe=()=>w(!1);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:ee?(0,_.jsx)(p.A,{}):(0,_.jsxs)("form",{onSubmit:G((e=>{let l=(e=>({developer:"common/update-profile/",admin:"admin/update-profile",client:"client/update-profile/"}[e]))(a),o=new FormData,s=new FormData;for(const a in e)o.append(a,e[a]);if(s.append("file",M),null==M){var i,n,r,d,t;let a={...e,user_id:g,country:null===e||void 0===e||null===(i=e.country)||void 0===i?void 0:i.label,country_iso_code:null===e||void 0===e?void 0:e.country.value,state:null===e||void 0===e||null===(n=e.state)||void 0===n?void 0:n.label,state_iso_code:null===e||void 0===e||null===(r=e.state)||void 0===r?void 0:r.value,time_zone:null===e||void 0===e||null===(d=e.time_zone)||void 0===d?void 0:d.label,city:null===e||void 0===e||null===(t=e.city)||void 0===t?void 0:t.label};H((0,u.Vk)(a,l))}else H((0,m.C7)(s,(a=>{var o,s,i,n,r;let d={...e,profile_picture:a,user_id:g,country:null===e||void 0===e||null===(o=e.country)||void 0===o?void 0:o.label,country_iso_code:null===e||void 0===e?void 0:e.country.value,state:null===e||void 0===e||null===(s=e.state)||void 0===s?void 0:s.label,state_iso_code:null===e||void 0===e||null===(i=e.state)||void 0===i?void 0:i.value,time_zone:null===e||void 0===e||null===(n=e.time_zone)||void 0===n?void 0:n.label,city:null===e||void 0===e||null===(r=e.city)||void 0===r?void 0:r.label};H((0,u.Vk)(d,l))})))})),noValidate:!0,children:[(0,_.jsxs)(s.A,{className:"mb-4",children:[(0,_.jsxs)(i.A,{md:"12",className:"mb-3",children:[(0,_.jsx)("h5",{className:"fw-semibold mb-3",children:"Security"}),(0,_.jsx)(n.A.Group,{className:"mb-3",children:(0,_.jsxs)(s.A,{className:"gx-4",children:[(0,_.jsxs)(i.A,{md:8,children:[(0,_.jsx)(n.A.Label,{className:"common-label font-16 fw-semibold mb-0",children:"Enable Two Factor Authentication"}),(0,_.jsx)("p",{className:"font-14 mb-0",children:"Two-Factor Authentication (2FA) is a security process in which users provide two different authentication factors to verify their identity. This method adds an additional layer of security, making it more difficult for unauthorized individuals to access your accounts."})]}),(0,_.jsx)(i.A,{md:4,children:(0,_.jsx)("div",{class:"form-check form-switch toggle-switch-wrapper",children:(0,_.jsx)(b.xI,{name:"is_2FA_enabled",control:E,render:e=>{let{field:l}=e;return(0,_.jsx)("input",{...l,onChange:e=>{(e=>{const{checked:l}=null===e||void 0===e?void 0:e.target;w(!N),L(l)})(e)},checked:!0===D("is_2FA_enabled"),class:"form-check-input toggle-switch-custom",type:"checkbox",role:"switch"})}})})})]})})]}),(0,_.jsx)(i.A,{md:"12",children:(0,_.jsx)("h5",{className:"fw-semibold mb-3",children:"Personal Information"})}),(0,_.jsx)(i.A,{md:"6",children:(0,_.jsxs)("div",{className:"inner-form",children:[(0,_.jsx)(x.A,{label:z("clientName")+" *",name:"name",control:E,rules:{required:"Name is required"},error:V.name}),(0,_.jsx)(x.A,{label:z("email")+" *",name:"email",control:E,rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}},error:V.email,readOnly:!0}),(0,_.jsx)(x.A,{label:z("previousPassword"),name:"previous_password",control:E,type:Q.firstPass?"text":"password",rules:{validate:ae},error:V.previous_password,isPassword:!0,onTogglePassword:()=>Y({...Q,firstPass:!Q.firstPass}),icon:(0,_.jsx)(r.Ny1,{})}),(0,_.jsx)(x.A,{label:z("newPassword"),name:"password",control:E,type:Q.secondPass?"text":"password",rules:{validate:ae},error:V.password,isPassword:!0,onTogglePassword:()=>Y({...Q,secondPass:!Q.secondPass}),icon:(0,_.jsx)(r.Ny1,{})}),(0,_.jsx)(h.A,{label:z("address")+" *",name:"address",control:E,rules:{required:"Address is required"},error:V.address,apiKey:le,onPlaceSelected:e=>{T("address",e.formatted_address)},onChange:e=>{T("address",e.target.value)},options:{types:["establishment","geocode"]},r:!0}),(0,_.jsx)(h.A,{label:z("address")+" 2",name:"address_2",control:E,rules:{required:!1},error:V.address_2,apiKey:le,onPlaceSelected:e=>{T("address_2",e.formatted_address)},onChange:e=>{T("address_2",e.target.value)},options:{types:["establishment","geocode"]}})]})}),(0,_.jsx)(i.A,{md:"6",children:(0,_.jsxs)("div",{children:[(0,_.jsx)(x.A,{label:z("phone")+"*",name:"phone_number",control:E,type:"text",rules:{required:"Phone Number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid phone number"}},error:V.phone_number}),(0,_.jsx)(j.A,{name:"country",errors:V,control:E,required:"Country is required",label:"Country",type:"country",options:q}),(0,_.jsx)(j.A,{name:"state",errors:V,control:E,required:"State is required",label:"State",type:"state",options:S}),(0,_.jsx)(j.A,{name:"city",errors:V,control:E,label:"City",type:"city",options:F}),(0,_.jsx)(j.A,{name:"time_zone",errors:V,type:"timezones",control:E,options:k,required:"Time zone is required",label:"Time Zone"}),(0,_.jsx)(x.A,{label:z("postCode")+"*",name:"passcode",control:E,rules:{required:"Postcode is required",pattern:{value:/^[0-9]+$/,message:"Postcode should only contain numbers"}},error:V.passcode}),(0,_.jsx)(n.A.Label,{children:"Image*"}),(0,_.jsxs)(n.A.Label,{htmlFor:"developer-image",className:"upload-image-label d-block",children:[(0,_.jsx)(d.pT4,{}),z("uploadImage")]}),(0,_.jsx)(b.xI,{name:"profile_picture",control:E,rules:{required:!1},render:e=>{let{field:l}=e;return(0,_.jsx)("input",{...l,id:"developer-image",className:"visually-hidden common-field",type:"file",accept:"image/*",onChange:e=>(e=>{const l=e.target.files[0];if(X(l),l){const e=new FileReader;e.onloadend=()=>{A(e.result)},e.readAsDataURL(l)}})(e)})}}),(0,_.jsx)("div",{children:(0,_.jsx)("img",{src:f||(null===W||void 0===W||null===(l=W.data)||void 0===l?void 0:l.profile_picture),alt:"Selected",className:"uploaded-image"})})]})})]}),(0,_.jsx)("div",{className:"text-center",children:(0,_.jsx)(v.A,{type:"submit",text:z("updateProfile"),className:"main-btn px-5",variant:"transparent",disabled:J,isLoading:J})})]})}),(0,_.jsx)(y.A,{show:O,handleClose:()=>{$(!U),R(!1)},onClick:()=>{let e={user_id:+g,status:U};H((0,m.Ts)(e))},smallLoader:J,text:"Are you sure, you want to disable your account"}),N&&(0,_.jsx)(y.A,{show:N,handleClose:oe,handleAction:()=>{T("is_2FA_enabled",C),oe()},smallLoader:J,text:"Are you sure, you want to ".concat(C?"enable":"disable"," two factor authentication")})]})}},33027:(e,l,a)=>{a.d(l,{A:()=>i});a(65043);var o=a(74117),s=a(70579);const i=e=>{let{children:l}=e;const{t:a}=(0,o.Bd)();return(0,s.jsxs)("section",{className:"card-box",children:[(0,s.jsx)("div",{className:"d-flex gap-3 align-items-center pb-2 mb-3 border-bottom-grey",children:(0,s.jsx)("h2",{className:"section-head-sub mb-0 border-0",children:a("updateYourProfile")})}),l]})}},25709:(e,l,a)=>{a.r(l),a.d(l,{default:()=>g});var o=a(65043),s=a(5328),i=a(92843),n=a(74117),r=a(75112),d=a(33027),t=a(61072),c=a(78602),m=a(73722),u=a(24858),p=a(50423),v=(a(620),a(1071)),y=a(83003),x=a(4970),h=a(29212),b=a(22630),j=a(70579);const _=()=>{var e,l,a,s,i;const r=localStorage.getItem("userId"),[d,_]=(0,o.useState)(null),{register:g,control:f,setValue:A,watch:N,trigger:w,handleSubmit:C,formState:{errors:L,isDirty:P,isValid:q,isSubmitting:S}}=(0,u.mN)({}),F=(0,y.wA)(),{t:k}=(0,n.Bd)(),{smallLoader:z,clientProfileDetails:I,screenLoader:T,approvedLoader:D}=(0,y.d4)((e=>e.clientData));(0,o.useEffect)((()=>{F((0,x.RY)())}),[F]),(0,o.useEffect)((()=>{var e,l,a,o,s,i;(A("company_address",null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.company_address),A("company_name",null===I||void 0===I||null===(l=I.data)||void 0===l?void 0:l.company_name),A("company_tax_id",null===I||void 0===I||null===(a=I.data)||void 0===a?void 0:a.company_tax_id),A("company_type",null===I||void 0===I||null===(o=I.data)||void 0===o?void 0:o.company_type),null!==I&&void 0!==I&&null!==(s=I.data)&&void 0!==s&&s.company_logo)&&_(null===I||void 0===I||null===(i=I.data)||void 0===i?void 0:i.company_logo)}),[I]);return(0,j.jsx)("div",{children:(0,j.jsx)("form",{onSubmit:C((e=>{const l=N(),a={...e,password:l.password?l.password:null,previous_password:l.previous_password?l.previous_password:null,client_type:"company"};if(void 0!==(null===e||void 0===e?void 0:e.company_logo.name)){let l=new FormData;l.append("file",null===e||void 0===e?void 0:e.company_logo),F((0,x.C7)(l,(e=>{let l={...a,company_logo:e,user_id:r};F((0,x.Uj)(l))})))}else{let e={...a,company_logo:d,user_id:r};F((0,x.Uj)(e))}})),noValidate:!0,children:(0,j.jsxs)(t.A,{children:[(0,j.jsx)(c.A,{md:12,children:(0,j.jsxs)(m.A.Group,{className:"mb-4",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Company Logo"}),(0,j.jsx)(m.A.Control,{...g("company_logo",{onChange:e=>(e=>{var l,a;const o=null===e||void 0===e||null===(l=e.target)||void 0===l||null===(a=l.files)||void 0===a?void 0:a[0];if(o)if(["image/jpeg","image/png","image/jpg","image/svg"].includes(o.type)){const e=URL.createObjectURL(o);A("company_logo",o),_(e)}else A("company_logo",null),_(null)})(e)}),type:"file",id:"company_logo_file",placeholder:"Company Name",className:"common-field d-none"}),(0,j.jsxs)("div",{className:"file_shown",children:[(0,j.jsx)("img",{src:d||h,alt:"Company Logo"}),(0,j.jsx)(m.A.Label,{htmlFor:"company_logo_file",className:"camera-btn mb-0",children:(0,j.jsx)(p.NQQ,{})})]}),(null===L||void 0===L?void 0:L.company_logo)&&(0,j.jsx)("p",{className:"error-message",children:null===(e=L.company_logo)||void 0===e?void 0:e.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Company Name*"}),(0,j.jsx)(m.A.Control,{...g("company_name",{required:"Company name is required"}),type:"text",placeholder:"Company Name",className:"common-field"}),(null===L||void 0===L?void 0:L.company_name)&&(0,j.jsx)("p",{className:"error-message",children:null===(l=L.company_name)||void 0===l?void 0:l.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Type of Company*"}),(0,j.jsxs)(m.A.Select,{...g("company_type",{required:"Company type is required"}),className:"common-field",children:[(0,j.jsx)("option",{disabled:!0,selected:!0,value:"",children:"Please select company type"}),(0,j.jsx)("option",{value:"sole_partnership",children:"Sole Partnership"}),(0,j.jsx)("option",{value:"partnership",children:"Partnership"}),(0,j.jsx)("option",{value:"limited_liability_company(LLC)",children:"Limited Liability Company(LLC)"}),(0,j.jsx)("option",{value:"corporation",children:"Corporation"}),(0,j.jsx)("option",{value:"nonprofit_organization",children:"Nonprofit Organization"}),(0,j.jsx)("option",{value:"cooperative",children:"Cooperative"}),(0,j.jsx)("option",{value:"franchise",children:"Franchise"}),(0,j.jsx)("option",{value:"joint_venture",children:"Joint Venture"})]}),(null===L||void 0===L?void 0:L.company_type)&&(0,j.jsx)("p",{className:"error-message",children:null===(a=L.company_type)||void 0===a?void 0:a.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(b.A,{label:k("Company Address")+" *",name:"company_address",control:f,rules:{required:"Company Address is required"},error:L.company_address,apiKey:"AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc",onPlaceSelected:e=>{A("company_address",e.formatted_address)},onChange:e=>{A("company_address",e.target.value)},options:{types:["establishment","geocode"]}}),(null===L||void 0===L?void 0:L.company_address)&&(0,j.jsx)("p",{className:"error-message",children:null===(s=L.company_address)||void 0===s?void 0:s.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Tax ID*"}),(0,j.jsx)(m.A.Control,{...g("company_tax_id",{required:"Company tax id is required"}),name:"company_tax_id",type:"text",placeholder:"Tax Id",className:"common-field"}),(null===L||void 0===L?void 0:L.company_tax_id)&&(0,j.jsx)("p",{className:"error-message",children:null===(i=L.company_tax_id)||void 0===i?void 0:i.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsx)("div",{className:"text-center",children:(0,j.jsx)(v.A,{type:"submit",text:k("updateProfile"),className:"main-btn px-5 mt-4",variant:"transparent",disabled:z,isLoading:z})})})]})})})},g=()=>{const{t:e}=(0,n.Bd)();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(d.A,{children:(0,j.jsx)("section",{className:"card-box",children:(0,j.jsxs)(s.A.Container,{id:"left-tabs-example",defaultActiveKey:"personal_details",children:[(0,j.jsxs)(i.A,{variant:"pills",className:"mb-4 application-pills",children:[(0,j.jsx)(i.A.Item,{className:"application-item",children:(0,j.jsx)(i.A.Link,{className:"application-link",eventKey:"personal_details",children:"Personal Details"})}),(0,j.jsx)(i.A.Item,{className:"application-item",children:(0,j.jsx)(i.A.Link,{className:"application-link",eventKey:"company_details",children:"Company Details"})})]}),(0,j.jsxs)(s.A.Content,{children:[(0,j.jsx)(s.A.Pane,{eventKey:"personal_details",children:(0,j.jsx)(r.A,{role:"client"})}),(0,j.jsx)(s.A.Pane,{eventKey:"company_details",children:(0,j.jsx)(_,{role:"client"})})]})]})})})})}}}]);
//# sourceMappingURL=5709.fc6461ca.chunk.js.map