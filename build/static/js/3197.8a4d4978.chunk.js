"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[3197],{53197:(e,l,i)=>{i.d(l,{A:()=>O});var a=i(65043),s=i(73722),t=i(44063),n=i(83003),d=i(4970),o=i(10615),r=i(1071),c=i(28086),m=i(82476),v=i(98394),h=i(13368),x=i(86178),p=i.n(x),u=i(75200),j=i(23156),g=i(70579);const f=e=>{let{item:l}=e,{end_time:i,start_time:a,memo:s,report_date:t}=l;return(0,g.jsxs)("div",{className:"weekly-detail mb-3 p-3",children:[(0,g.jsxs)("div",{className:"client-info mb-3 gap-5",children:[(0,g.jsx)("div",{className:"mb-2",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(u.wIk,{}),t]})}),(0,g.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,g.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(j.obD,{}),a?p()(a,"HH:mm:ss").format("h:mm:ss A"):"00:00"]}),(0,g.jsx)("p",{className:"client-name-heading",children:"-"}),(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(j.obD,{}),i?p()(i,"HH:mm:ss").format("h:mm:ss A"):"00:00"]})]})})]}),(0,g.jsxs)("div",{className:"client-info",children:[(0,g.jsx)("h4",{className:"sidebar-heading",children:"Memo"}),(0,g.jsx)("p",{className:"client-name-heading",children:s||"Memo not Found"})]})]})};var N=i(5328),y=i(92843);const w=e=>{let{currentDetails:l,selectedPeriod:i,role:s}=e;const[t,n]=(0,a.useState)();let{contractDetails:{user_details:d},endDate:o,startDate:r,timeReports:{end_time:c,start_time:m,memo:v,weeklyDetails:h,monthlyDetails:x,report_date:w,week:b,month:k},totalDuration:_}=l;(0,a.useEffect)((()=>{if(void 0!==h)n(h);else if(void 0!==x){var e;n(null===(e=x[0])||void 0===e?void 0:e.weeklyDetails)}}),[]);return console.log(l,"weeklyDetails"),console.log(k,"role"),(0,g.jsxs)(g.Fragment,{children:["weekly"==i?(0,g.jsxs)("div",{className:"detail-view day-view",children:[(0,g.jsxs)("div",{className:"client-info mb-3",children:[(0,g.jsx)("h4",{className:"sidebar-heading",children:"developer"!==s?"Developer Name":"Client Name"}),(0,g.jsxs)("p",{className:"client-name-heading",children:[(0,g.jsx)("img",{src:null===d||void 0===d?void 0:d.profile_picture}),null===d||void 0===d?void 0:d.name]})]}),(0,g.jsxs)("div",{className:"client-info mb-3 d-`flex gap-5",children:[(0,g.jsx)("div",{className:"mb-0",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center mb-2",children:[(0,g.jsx)(u.wIk,{}),w]})}),(0,g.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,g.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(j.obD,{}),m?p()(m,"HH:mm").format("h:mm A"):"00:00"]}),(0,g.jsx)("p",{className:"client-name-heading",children:"-"}),(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(j.obD,{}),m?p()(c,"HH:mm").format("h:mm A"):"00:00"]})]})})]}),(0,g.jsx)("div",{class:"weekly-detail",children:(0,g.jsxs)("div",{className:"client-info",children:[(0,g.jsx)("h4",{className:"sidebar-heading",children:"Memo"}),(0,g.jsx)("p",{className:"client-name-heading",children:v||"Memo not found"})]})})]}):"","monthly"==i?(0,g.jsxs)("div",{className:"detail-view weekly-view",children:[(0,g.jsxs)("div",{className:"client-info mb-3",children:["developer"!==s?"Developer Name":"Client Name",(0,g.jsxs)("p",{className:"client-name-heading",children:[(0,g.jsx)("img",{src:null===d||void 0===d?void 0:d.profile_picture}),null===d||void 0===d?void 0:d.name]})]}),"monthly"==i?(0,g.jsxs)("div",{className:"client-info mb-3 gap-5 d-flex align-items-center",children:[(0,g.jsx)("div",{className:"mb-0",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(u.wIk,{}),b," ",w]})}),(0,g.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,g.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center fw-semibold",children:[(0,g.jsx)(j.obD,{})," ",_," hrs"]})})}),(0,g.jsx)("div",{children:(0,g.jsx)("span",{className:"status-progress",children:"Progress"})})]}):"",null===t||void 0===t?void 0:t.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(f,{item:e})})))]}):"","yearly"==i?(0,g.jsxs)("div",{className:"detail-view monthly-view",children:[(0,g.jsxs)("div",{className:"client-info mb-3",children:["developer"!==s?"Developer Name":"Client Name",(0,g.jsxs)("p",{className:"client-name-heading",children:[(0,g.jsx)("img",{src:null===d||void 0===d?void 0:d.profile_picture}),null===d||void 0===d?void 0:d.name]})]}),(0,g.jsxs)("div",{className:"client-info mb-3 gap-5 d-flex align-items-center",children:[(0,g.jsx)("div",{className:"mb-0",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(u.wIk,{}),k," ",w]})}),(0,g.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,g.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center fw-semibold",children:[(0,g.jsx)(j.obD,{})," ",_.toFixed("2")," hrs"]})})}),(0,g.jsx)("div",{children:(0,g.jsx)("span",{className:"status-progress",children:"Progress"})})]}),(0,g.jsxs)(N.A.Container,{id:"left-tabs-example",defaultActiveKey:"Week 1",onSelect:e=>{let l=null===x||void 0===x?void 0:x.find((l=>l.week==e));n(null===l||void 0===l?void 0:l.weeklyDetails)},children:[(0,g.jsxs)(y.A,{variant:"pills",className:"weekly-tabs",children:[(0,g.jsx)(y.A.Item,{className:"weekly-tab-item",children:(0,g.jsx)(y.A.Link,{className:"weekly-tab-link",eventKey:"Week 1",children:"Week 1"})}),(0,g.jsx)(y.A.Item,{className:"weekly-tab-item",children:(0,g.jsx)(y.A.Link,{className:"weekly-tab-link",eventKey:"Week 2",children:"Week 2"})}),(0,g.jsx)(y.A.Item,{className:"weekly-tab-item",children:(0,g.jsx)(y.A.Link,{className:"weekly-tab-link",eventKey:"Week 3",children:"Week 3"})}),(0,g.jsx)(y.A.Item,{className:"weekly-tab-item",children:(0,g.jsx)(y.A.Link,{className:"weekly-tab-link",eventKey:"Week 4",children:"Week 4"})})]}),(0,g.jsxs)(N.A.Content,{children:[(0,g.jsx)(N.A.Pane,{eventKey:"Week 1",children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(f,{item:e})})))}),(0,g.jsx)(N.A.Pane,{eventKey:"Week 2",children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(f,{item:e})})))}),(0,g.jsx)(N.A.Pane,{eventKey:"Week 3",children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(f,{item:e})})))}),(0,g.jsx)(N.A.Pane,{eventKey:"Week 4",children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(f,{item:e})})))})]})]})]}):""]})};var b=i(16713);const k=i.p+"static/media/remarks-icon.e8394e1d1b0ac59ef737ba64dad11d00.svg";var _=i(39062),A=(i(37194),i(49342)),D=i(14282),S=i(45394);const C=(0,g.jsx)(o.A,{id:"tooltip",children:"Approve"}),H=(0,g.jsx)(o.A,{id:"tooltip",children:"Reject"}),I=e=>{let{item:l,role:i,index:s,handleChangeUpdateWeeklyData:t,selectedPeriod:o,page:r}=e;const c=(0,n.wA)(),[m,v]=(0,a.useState)({editItem:null,isEdit:!1}),[h,x]=(0,a.useState)([]);let{end_time:f,start_time:N,memo:y,report_date:w,id:b,contract_id:k}=l;(0,a.useEffect)((()=>{x([{...l,id:s}])}),[]);const I=async e=>{let l={contract_id:k,report_date:w,reconciliation_id:b,client_remark:null,is_approved:e};await c(e?(0,d.ew)(l):(0,d.qE)(l));let a={page:r,selectedPeriod:o};c((0,d.EO)(a,i))};return(0,g.jsxs)("div",{className:"weekly-detail mb-3 p-3",children:[(0,g.jsxs)("div",{className:"client-info mb-3 gap-5",children:[(0,g.jsx)("div",{className:"mb-2",children:(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,g.jsx)("div",{className:"datePrim",children:(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(u.wIk,{}),w]})}),(0,g.jsxs)("div",{className:"editSec",children:["client"!==i&&!0!==(null===l||void 0===l?void 0:l.reconciliation_approved)?(0,g.jsx)("span",{className:"px-3 mb-2 arrow-btn info-arrow font-16 text-decoration-none",onClick:()=>{v({editItem:null,isEdit:!(null!==m&&void 0!==m&&m.isEdit)})},children:(0,g.jsx)(A.g4E,{})}):"",(0,g.jsx)("div",{className:"d-flex gap-2",children:"client"==i&&null==(null===l||void 0===l?void 0:l.is_approved)?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(_.A,{placement:"bottom",overlay:C,children:(0,g.jsx)(D.A,{variant:"transparent",className:"px-3 mb-2 arrow-btn primary-arrow font-16 text-decoration-none",onClick:()=>I(!0),children:(0,g.jsx)(S.KDk,{})})}),(0,g.jsx)(_.A,{placement:"bottom",overlay:H,children:(0,g.jsx)(D.A,{variant:"transparent",className:"px-3 mb-2 arrow-btn danger-arrow font-16 text-decoration-none",onClick:()=>I(!1),children:(0,g.jsx)(S.lr4,{})})})]}):""})]})]})}),(0,g.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,g.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(j.obD,{}),null!==m&&void 0!==m&&m.isEdit?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("input",{type:"time",className:"common-field form-control",value:p()(null===l||void 0===l?void 0:l.start_time,"HH:mm:ss").format("HH:mm"),name:"start_time",onChange:e=>t(e,s)})}):N?p()(N,"HH:mm:ss").format("h:mm A"):"00:00"]}),(0,g.jsx)("p",{className:"client-name-heading",children:"-"}),(0,g.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,g.jsx)(j.obD,{}),null!==m&&void 0!==m&&m.isEdit?(0,g.jsx)("input",{type:"time",className:"common-field form-control",value:p()(null===l||void 0===l?void 0:l.end_time,"HH:mm:ss").format("HH:mm"),name:"end_time",onChange:e=>t(e,s)}):f?p()(f,"HH:mm:ss").format("h:mm A"):"00:00"]})]})})]}),(0,g.jsxs)("div",{className:"client-info",children:[(0,g.jsx)("h4",{className:"sidebar-heading",children:"Memo"}),null!==m&&void 0!==m&&m.isEdit?(0,g.jsx)("input",{type:"text",className:"common-field form-control",value:null===l||void 0===l?void 0:l.memo,name:"memo",onChange:e=>t(e,s)}):(0,g.jsx)("p",{className:"client-name-heading",children:y||"Memo not Found"}),(0,g.jsx)("div",{children:null!==l&&void 0!==l&&l.is_approved||null!==l&&void 0!==l&&l.reconciliation_approved?(0,g.jsx)("span",{className:"status-finished mt-2 mx-1",children:"Approved"}):(!1===(null===l||void 0===l?void 0:l.is_approved)||0==(null===l||void 0===l?void 0:l.reconciliation_approved))&&(0,g.jsx)("span",{className:"status-rejected mt-2",children:"Rejected"})})]})]})},R=e=>{let{remarkshow:l,handleremarkClose:i,contractId:s,currentDetails:t,role:o,selectedPeriod:m,page:v}=e,{contractDetails:{user_details:x,contract_id:p},endDate:u,startDate:j,allSelectedTimeReport:f,timeReports:{end_time:N,start_time:y,memo:w,weeklyDetails:b,monthlyDetails:k,report_date:_,week:A,month:D},totalDuration:S}=t;const[C,H]=(0,a.useState)(null),[R,F]=(0,a.useState)([]),P=(0,n.wA)(),[E,W]=(0,a.useState)([]),{smallLoader:L,reconciliationsData:O}=(0,n.d4)((e=>e.clientData));(0,a.useEffect)((()=>{W("client"==o?O:f)}),[O]),console.log(f,"allSelectedTimeReport");const T=(e,l)=>{const{value:i,name:a}=e.target,s=JSON.parse(JSON.stringify(E));s[l][a]=i,s[l].isEdited=!0,W(s)};return console.log(x,"user"),(0,g.jsxs)(c.A,{className:"time-detail-sidepanel",show:l,onHide:i,placement:"end",children:[(0,g.jsx)(c.A.Header,{closeButton:!0,children:(0,g.jsx)(c.A.Title,{children:"Reconciliation"})}),(0,g.jsxs)(c.A.Body,{children:[(0,g.jsxs)("div",{className:"detail-view weekly-view",children:[(0,g.jsxs)("div",{className:"client-info mb-3",children:[(0,g.jsx)("p",{children:"developer"!==o?"Developer Name":"Client Name"}),(0,g.jsxs)("p",{className:"client-name-heading",children:[(0,g.jsx)("img",{src:null===x||void 0===x?void 0:x.profile_picture}),null===x||void 0===x?void 0:x.name]})]}),null===E||void 0===E?void 0:E.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(I,{handleChangeUpdateWeeklyData:T,item:e,role:o,contract_id:p,index:l,selectedPeriod:m,page:v})})))]}),"client"!==o&&(0,g.jsx)(r.A,{type:"submit",text:"Submit",className:"main-btn font-14 mt-2 py-2 px-3",variant:"transparent",onClick:()=>{let e=JSON.parse(JSON.stringify(E)).filter((e=>!0===(null===e||void 0===e?void 0:e.isEdited))).map((e=>{let{isEdited:l,...i}=e;return{...i,contract_id:Number(s)}}));null!==e&&void 0!==e&&e.length?P((0,h.Gt)(e,(()=>{i(),P((0,d.EO)({filter:"weekly"},o))}))):i()},disabled:L,isLoading:L})]})]})};var F=i(31404),P=i(25543);const E=e=>{let{selectedPeriod:l,headerColumn:i,data:s,role:x,page:u}=e;const[j,f]=(0,a.useState)(!1),[N,y]=(0,a.useState)(null),[A,D]=(0,a.useState)(!1),[S,C]=(0,a.useState)(null),[H,I]=(0,a.useState)({isApproved:!1,approvedId:null,startDate:null,endDate:null}),[E,W]=(0,a.useState)(null),L=(e,l,i)=>{if(null===i||void 0===i||!i.is_off_day){let i=null===e||void 0===e?void 0:e.timeReports[l],a={...e,timeReports:i};W(a),f(!0)}},O=(0,g.jsx)(o.A,{id:"tooltip",children:"View Reconciliation"}),[T,K]=(0,a.useState)(!1);function M(e){const l=(new Date).toISOString().split("T")[0];return e.filter((e=>e.report_date<=l&&(!e.is_off_day||e.is_holiday)))}const{approvedLoader:B,smallLoader:Z}=(0,n.d4)((e=>e.developerData)),J=(0,n.wA)(),U=(e,l)=>"client"==e?l?"Approved":"Submit & Approve":l?"Approved":"Submit";return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"weekly-report-table ".concat(l),children:[(0,g.jsx)("div",{className:"table-responsive",children:Z?(0,g.jsx)(m.A,{}):(null===s||void 0===s?void 0:s.length)>0?(0,g.jsxs)("table",{className:"table time-table table-bordered table-ui-custom",children:[(0,g.jsxs)("thead",{children:[(0,g.jsx)("th",{className:"time-table-head",children:(0,g.jsx)("span",{children:"developer"!==x?"Developer Name":"Client Name"})}),null===i||void 0===i?void 0:i.map(((e,l)=>(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("th",{className:"time-table-head",children:(0,g.jsxs)("span",{children:[e," "]})})}))),(0,g.jsx)("th",{className:"time-table-head",children:(0,g.jsx)("span",{children:"Total Hours"})}),"developer"==x&&(0,g.jsx)("th",{className:"time-table-head",children:(0,g.jsx)("span",{children:"Timesheet"})}),(0,g.jsx)("th",{className:"time-table-head",children:(0,g.jsx)("span",{children:"Reconciliation"})}),"weekly"==l&&"developer"!==x?(0,g.jsx)("th",{className:"time-table-head",children:(0,g.jsx)("span",{children:"Submit"})}):""]}),(0,g.jsx)("tbody",{children:(null===s||void 0===s?void 0:s.length)>0?null===s||void 0===s?void 0:s.map(((e,i)=>{var a,s,n,o,c,m,v,h,u,j;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"time-table-data",children:(0,g.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,g.jsxs)("div",{className:"d-flex gap-2 align-items-center white-nowrap",children:[(0,g.jsx)("div",{className:"position-relative",children:(0,g.jsx)("img",{src:null!==e&&void 0!==e&&null!==(a=e.contractDetails)&&void 0!==a&&null!==(s=a.user_details)&&void 0!==s&&s.profile_picture?null===e||void 0===e||null===(n=e.contractDetails)||void 0===n||null===(o=n.user_details)||void 0===o?void 0:o.profile_picture:t,className:"developer-img",alt:""})})," ",null===e||void 0===e||null===(c=e.contractDetails)||void 0===c||null===(m=c.user_details)||void 0===m?void 0:m.name]})})}),null===e||void 0===e||null===(v=e.timeReports)||void 0===v?void 0:v.map(((l,i)=>l.report_date?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{onClick:()=>L(e,i,l),className:"time-table-data white-nowrap ".concat(null!==l&&void 0!==l&&l.is_public_holiday?"holiday-data":l.is_off_day?"offday-data":"workday-data"),children:(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"".concat(l.is_off_day?"":"timing-text d-inline-block"),children:l.start_time&&null!==l&&void 0!==l&&l.end_time?"".concat(p()(null===l||void 0===l?void 0:l.start_time,"HH:mm").format("h:mm A")," - ").concat(p()(null===l||void 0===l?void 0:l.end_time,"HH:mm").format("h:mm A")," "):null!==l&&void 0!==l&&l.is_holiday?"Holiday":null!==l&&void 0!==l&&l.is_public_holiday?null===l||void 0===l?void 0:l.holiday_name:null!==l&&void 0!==l&&l.is_off_day?"Leave":""}),(null===l||void 0===l?void 0:l.memo)&&(0,g.jsx)("p",{className:"memo-text",children:null!==l&&void 0!==l&&l.memo?null===l||void 0===l?void 0:l.memo:""})]})})}):null!==l&&void 0!==l&&l.week?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{onClick:()=>L(e,i,l),className:"time-table-data white-nowrap ".concat(l.is_off_week?"offday-data":"workday-data"),children:(0,g.jsx)("div",{children:null!==l&&void 0!==l&&l.duration?"".concat(null===l||void 0===l?void 0:l.duration.toFixed("2")," hr"):"Holiday"})})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)("td",{onClick:()=>L(e,i,l),className:"time-table-data white-nowrap ".concat(l.is_off_month?"offday-data":"workday-data"),children:(0,g.jsx)("div",{children:null!==l&&void 0!==l&&l.duration?"".concat(null===l||void 0===l?void 0:l.duration.toFixed("2")," hr"):"Holiday"})})}))),(0,g.jsxs)("td",{className:"time-table-data",children:[(null===e||void 0===e?void 0:e.totalDuration)>0?null===e||void 0===e?void 0:e.totalDuration.toFixed("2"):null===e||void 0===e?void 0:e.totalDuration,"hr"]}),"developer"==x&&(0,g.jsx)("td",{className:"time-table-data",children:(0,g.jsx)("span",{className:"status-progress white-nowrap",children:null!==e&&void 0!==e&&e.isApproved?"Reviewed":"Under Review"})}),(0,g.jsx)("td",{className:"time-table-data",children:(0,g.jsxs)("button",{onClick:()=>{((e,l)=>{var i;let a=null===e||void 0===e?void 0:e.timeReports[l],s={...e,timeReports:a,allSelectedTimeReport:M(null===e||void 0===e?void 0:e.timeReports)};var t;"client"==x&&J((0,d.yh)(null===e||void 0===e||null===(t=e.contractDetails)||void 0===t?void 0:t.contract_id)),W(s),y(null===s||void 0===s||null===(i=s.contractDetails)||void 0===i?void 0:i.contract_id),K(!0)})(e,i)},className:"remarks-text position-relative white-nowrap removeBtnStyles",children:[(null===e||void 0===e||null===(h=e.contractDetails)||void 0===h||null===(u=h.remarks)||void 0===u?void 0:u.length)>0?(0,g.jsx)("img",{src:k,className:"remark-icon"}):(0,g.jsx)(_.A,{placement:"bottom",overlay:O,children:(0,g.jsx)("img",{src:k,className:"remark-icon"})})," "]})}),"weekly"==l&&"developer"!==x?(0,g.jsx)("td",{className:"time-table-data",children:null!==e&&void 0!==e&&e.isApproved?(0,g.jsx)("span",{className:"status-finished",children:"Approved"}):(0,g.jsx)(r.A,{type:"submit",text:U(x,null===e||void 0===e?void 0:e.isApproved),className:"outline-main-btn white-nowrap px-2 font-13",variant:"transparent",disabled:(j=null===e||void 0===e?void 0:e.isApproved,"client"==x||"developer"==x?!!j:void 0),onClick:()=>{var l,i,a,s;(e=>{const l=null===e||void 0===e?void 0:e.findIndex((e=>!(null!==e&&void 0!==e&&e.is_holiday)&&!(null!==e&&void 0!==e&&e.is_off_day)&&!(null!==e&&void 0!==e&&e.memo)));D(-1!==l)})(null===e||void 0===e?void 0:e.timeReports),i=null===e||void 0===e||null===(l=e.contractDetails)||void 0===l?void 0:l.contract_id,a=null===e||void 0===e?void 0:e.startDate,s=null===e||void 0===e?void 0:e.endDate,I({isApproved:!0,approvedId:i,startDate:a,endDate:s})},isLoading:S===i&&B})}):""]})})})):(0,g.jsxs)("td",{colSpan:10,children:[" ",(0,g.jsx)("div",{className:"simple-no-data",children:(0,g.jsx)(v.A,{})}),"  "]})})]}):(0,g.jsx)("div",{className:"simple-no-data",children:(0,g.jsx)(v.A,{})})}),(0,g.jsxs)(c.A,{className:"time-detail-sidepanel",show:j,onHide:()=>f(!1),placement:"end",children:[(0,g.jsx)(c.A.Header,{closeButton:!0,children:(0,g.jsx)(c.A.Title,{children:"Time Reporting"})}),(0,g.jsxs)(c.A.Body,{children:["weekly"==l&&(0,g.jsx)(w,{currentDetails:E,selectedPeriod:l,role:x}),"monthly"==l&&(0,g.jsx)(w,{currentDetails:E,selectedPeriod:l,role:x}),"yearly"==l&&(0,g.jsx)(w,{currentDetails:E,selectedPeriod:l,role:x})]})]}),T?(0,g.jsx)(R,{contractId:N,remarkshow:T,handleremarkClose:()=>K(!1),currentDetails:E,page:u,role:x,selectedPeriod:l}):"",(0,g.jsx)(b.A,{text:A?"Are you sure to submit this time sheet ? It looks like you haven't written your work status for all the days of the week.":"Are you sure you want to submit this time sheet?",show:null===H||void 0===H?void 0:H.isApproved,startDate:null===H||void 0===H?void 0:H.startDate,endDate:null===H||void 0===H?void 0:H.endDate,handleClose:()=>{D(null),I({isApproved:!1,approvedId:null,startDate:null,endDate:null})},onClick:e=>{e.preventDefault();const l={startDate:null===H||void 0===H?void 0:H.startDate,endDate:null===H||void 0===H?void 0:H.endDate};J((0,h.zR)(null===H||void 0===H?void 0:H.approvedId,l,x,(()=>{I({isApproved:!1,approvedId:null});let e={page:u};J((0,d.EO)(e,x))})))},smallLoader:B})]}),(0,g.jsx)(F.A,{heading:"Guiding You Through: Helpful Text to Navigate Time Reporting",guideLines:P.v5})]})};var W=i(31735),L=i(74117);const O=e=>{let{timeReportingData:l,handleShowModal:i,role:t}=e;const o=(0,n.wA)(),[c,v]=(0,a.useState)("weekly"),[h,x]=(0,a.useState)({filter:"weekly"}),[p,u]=(0,a.useState)(""),[j,f]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),[w,b]=(0,a.useState)(""),[k,_]=(0,a.useState)(1),{t:A}=(0,L.Bd)(),{screenLoader:D,timeReportingPage:S}=(0,n.d4)((e=>e.clientData));(0,a.useEffect)((()=>{let e={...h,filter:c,page:k};o((0,d.EO)(e,t))}),[k]);const C=(e,l)=>{const i=e.target.value;e.preventDefault(),x({...h,[l]:e.target.value}),"week"===l?u(i):"month"===l?y(i):f(e.target.value)};return(0,g.jsx)(g.Fragment,{children:D?(0,g.jsx)(m.A,{}):(0,g.jsxs)("section",{children:[(0,g.jsx)("div",{className:"filter-section",children:(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-3",children:[(0,g.jsx)(s.A,{children:(0,g.jsxs)("div",{className:"d-flex gap-3 flex-wrap align-items-end",children:[(0,g.jsx)("div",{children:(0,g.jsxs)(s.A.Select,{className:"time-filter-select shadow-none",onChange:e=>C(e,"year"),value:j,children:[(0,g.jsx)("option",{value:"",disabled:!0,selected:!0,children:A("selectYear")}),null===P.dI||void 0===P.dI?void 0:P.dI.map((e=>(0,g.jsx)("option",{children:e},e)))]})}),"yearly"!==c?(0,g.jsx)("div",{children:(0,g.jsxs)(s.A.Select,{className:"time-filter-select shadow-none",onChange:e=>C(e,"month"),value:N,children:[(0,g.jsx)("option",{value:"",selected:!0,disabled:!0,children:A("selectMonth")}),null===P.Z6||void 0===P.Z6?void 0:P.Z6.map(((e,l)=>(0,g.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.label},l)))]})}):"","yearly"!==c&&"monthly"!==c?(0,g.jsx)("div",{children:(0,g.jsxs)(s.A.Select,{className:"time-filter-select shadow-none",onChange:e=>C(e,"week"),value:p,children:[(0,g.jsx)("option",{value:"",selected:!0,disabled:!0,children:A("selectWeek")}),null===P.Z_||void 0===P.Z_?void 0:P.Z_.map(((e,l)=>(0,g.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.label},l)))]})}):"",(0,g.jsx)("div",{className:"d-flex gap-3",children:(0,g.jsx)(r.A,{type:"submit",text:"Filter",className:"main-btn py-1_5 px-4",variant:"transparent",onClick:e=>{e.preventDefault();let l={...h,filter:c,page:k};"yearly"===c?(l.year=h.year,delete l.month,delete l.week):"monthly"===c?(l.year=h.year,l.month=h.month,delete l.week):(l.year=h.year,l.month=h.month,l.week=h.week),o((0,d.EO)(l,t))},isLoading:!1,disabled:!("weekly"===c&&Object.keys(h).length>3)&&(!("monthly"===c&&Object.keys(h).length>2)&&!("yearly"===c&&Object.keys(h).length>1))})})]})}),(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"indicator-time-slot d-flex gap-3 align-items-center flex-wrap",children:[(0,g.jsxs)("div",{className:"d-inline-flex align-items-center gap-1",children:[(0,g.jsx)("span",{className:"slot-indicate offday"}),(0,g.jsx)("span",{className:"font-14 fw-semibold",children:A("offDay")})]}),(0,g.jsxs)("div",{className:"d-inline-flex align-items-center gap-1",children:[(0,g.jsx)("span",{className:"slot-indicate workday"}),(0,g.jsx)("span",{className:"font-14 fw-semibold",children:A("workDay")})]})]})})}),(0,g.jsx)("div",{className:"flex-none",children:(0,g.jsxs)(s.A.Select,{className:" time-filter-select shadow-none",value:w,onChange:e=>(e=>{b(e);const l=e;v(l);let i={...h,filter:l,page:k};delete i.week,delete i.month,delete i.year,y(""),f(""),u(""),x({filter:l}),o((0,d.EO)(i,t))})(e.target.value),children:[(0,g.jsx)("option",{selected:!0,disabled:!0,children:A("selectView")}),(0,g.jsx)("option",{value:"weekly",children:A("weekly")}),(0,g.jsx)("option",{value:"monthly",children:A("monthly")}),(0,g.jsx)("option",{value:"yearly",children:A("yearly")})]})})]})]})}),(0,g.jsx)(E,{headerColumn:(0,P.WN)(l[0],c),selectedPeriod:c,data:l,role:t,page:k}),(null===S||void 0===S?void 0:S.totalPages)>1?(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 mb-4",children:[(0,g.jsxs)("p",{className:"showing-result",children:[A("showing")," ",null===l||void 0===l?void 0:l.length," ",A("results")]}),(0,g.jsx)(W.A,{number:null===S||void 0===S?void 0:S.totalPages,setPage:_,page:k})]}):""]})})}},31404:(e,l,i)=>{i.d(l,{A:()=>s});i(65043);var a=i(70579);const s=e=>{let{heading:l,guideLines:i}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"helper-text-section",children:[(0,a.jsx)("h3",{children:l}),(0,a.jsx)("ol",{className:"ps-3  mb-0",children:null===i||void 0===i?void 0:i.map(((e,l)=>(0,a.jsx)("li",{className:"mb-1",children:(0,a.jsxs)("p",{children:[" ",e," "]},l)})))})]})})}}}]);
//# sourceMappingURL=3197.8a4d4978.chunk.js.map