"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[795],{98394:(e,a,t)=>{t.d(a,{A:()=>n});t(65043);const l=t.p+"static/media/warning-icon.0644361391cc2004555a.gif";var s=t(70579);const n=e=>{let{data:a}=e;return(0,s.jsx)("div",{className:"no-data-container",children:(0,s.jsxs)("div",{className:"no-data",children:[(0,s.jsx)("img",{src:l}),a||"No Data Found"]})})}},82966:(e,a,t)=>{t.d(a,{A:()=>h});var l=t(86178),s=t.n(l),n=t(65043),i=t(14282),d=t(73722),o=t(25543),r=t(49342),c=t(45394),v=t(33012),m=t(1071),x=t(66480),u=t(70579);const h=e=>{let{holidayList:a,handleShowEvent:t,handleDelete:l,handleAproveDisapprove:h,approvedLoader:p,selectedIndex:j}=e;const[b,A]=(0,n.useState)(),[N,f]=(0,n.useState)(),[g,y]=(0,n.useState)("All"),[w,k]=(0,n.useState)("2024");let C=localStorage.getItem("role");console.log(j,"selectedIndex"),console.log(a,"holidaylist"),console.log(b,"data"),(0,n.useEffect)((()=>{const e=null===a||void 0===a?void 0:a.filter((e=>"2024"==s()(null===e||void 0===e?void 0:e.date).year()));f(e),k("2024"),A(e)}),[a]);const S=null===b||void 0===b?void 0:b.filter((e=>1==(null===e||void 0===e?void 0:e.is_approved_by_client)));console.log(S,"filterData");return(0,u.jsx)("section",{className:"",children:(0,u.jsxs)("div",{className:"card-box border shadow-none",children:["client"===C?(0,u.jsx)("div",{className:"mb-0",children:(0,u.jsx)(i.A,{className:"main-btn font-14",onClick:t,children:"+ Create New Holiday"})}):"",(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,u.jsx)("div",{className:"skill-filters",children:o.Pn.map((e=>(0,u.jsx)("span",{className:g===e?"active":"",onClick:()=>(e=>{if(y(e),"All"!==e){const a=null===N||void 0===N?void 0:N.filter((a=>s()(null===a||void 0===a?void 0:a.date).month()+1==s()(e,"MMMM").format("M")));A(a)}else A(N)})(e),children:e},e)))}),(0,u.jsx)(d.A,{className:"d-flex gap-2",children:(0,u.jsx)(d.A.Select,{className:"common-field font-14 w-auto",onChange:e=>(e=>{k(e),y("All");const t=null===a||void 0===a?void 0:a.filter((a=>s()(null===a||void 0===a?void 0:a.date).year()==e));f(t),A(t)})(e.target.value),value:w,children:null===o.Fl||void 0===o.Fl?void 0:o.Fl.map(((e,a)=>(0,u.jsx)("option",{children:e},a)))})})]}),(0,u.jsx)("div",{className:"table-responsive",children:(0,u.jsxs)("table",{className:"table table-ui-custom mb-0",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Date"}),(0,u.jsx)("th",{children:"Name"}),"client"===C?(0,u.jsx)("th",{children:"Action"}):""]})}),(0,u.jsx)("tbody",{children:(null===b||void 0===b?void 0:b.length)>0?"developer"===C?null===S||void 0===S?void 0:S.map(((e,a)=>(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"font-14 align-middle",children:(0,u.jsx)("strong",{children:null===e||void 0===e?void 0:e.date})}),(0,u.jsx)("td",{className:"font-14 align-middle",children:null===e||void 0===e?void 0:e.name})]},a)}))):null===b||void 0===b?void 0:b.map(((e,a)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"font-14 align-middle",children:(0,u.jsx)("strong",{children:null===e||void 0===e?void 0:e.date})}),(0,u.jsxs)("td",{className:"font-14 align-middle",children:[null===e||void 0===e?void 0:e.name,"client"===C&&"client"===(null===e||void 0===e?void 0:e.added_by)?(0,u.jsx)("span",{className:"associate-text",children:(0,u.jsx)("span",{className:"associate",children:"Created"})}):""]}),(0,u.jsx)("td",{children:"client"===C?"system"===(null===e||void 0===e?void 0:e.added_by)?!0===(null===e||void 0===e?void 0:e.is_approved_by_client)?(0,u.jsx)("div",{children:(0,u.jsx)("h6",{children:"Approved"})}):(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"d-flex gap-2",children:[(0,u.jsx)(v.A,{text:"Approve",children:(0,u.jsx)(m.A,{variant:"transparent",className:"px-3 arrow-btn primary-arrow font-16 text-decoration-none",icon:j==a?(0,u.jsx)(x.A,{}):(0,u.jsx)(c.KDk,{}),onClick:()=>h(null===e||void 0===e?void 0:e.id,"approve",a)})}),(0,u.jsx)(v.A,{text:"Disapprove",children:(0,u.jsx)(i.A,{variant:"transparent",className:"px-3 arrow-btn danger-arrow font-16 text-decoration-none",onClick:()=>h(null===e||void 0===e?void 0:e.id,"disapprove",a),children:(0,u.jsx)(c.lr4,{})})})]})}):(0,u.jsxs)("div",{className:"d-flex gap-2",children:[(0,u.jsx)(v.A,{text:"Edit",children:(0,u.jsx)(i.A,{variant:"transparent",className:"px-3 arrow-btn info-arrow font-16 text-decoration-none",onClick:()=>t(null===e||void 0===e?void 0:e.id,"edit"),children:(0,u.jsx)(r.g4E,{})})}),(0,u.jsx)(v.A,{text:"Delete",children:(0,u.jsx)(i.A,{variant:"transparent",className:"px-3 arrow-btn danger-arrow font-16 text-decoration-none",onClick:()=>l(null===e||void 0===e?void 0:e.id),children:(0,u.jsx)(c.lr4,{})})})]}):""})]},a))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"3",className:"font-14",children:(0,u.jsx)("p",{className:"text-danger mb-0",children:"No holidays in this month"})})})})]})})]})})}},75039:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var l=t(65043),s=(t(78461),t(44063)),n=t(83003),i=(t(13368),t(70579));const d=e=>{let{data:a}=e;return(0,i.jsx)("div",{children:(0,i.jsxs)("table",{className:"table time-table table-bordered table-ui-custom",children:[(0,i.jsx)("thead",{children:null===a||void 0===a?void 0:a.map((e=>(0,i.jsx)("th",{value:e,className:"time-table-head",children:e},e)))}),(0,i.jsx)("tbody",{})]})})};var o=t(5328),r=t(92843);const c=e=>{let{handleSelect:a,tabText:t,currentTab:l}=e;return console.log(l,"currentTab"),(0,i.jsx)("div",{children:(0,i.jsx)(o.A.Container,{id:"left-tabs-example",defaultActiveKey:l||"first",onSelect:a,children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,i.jsx)(r.A,{variant:"pills",className:"mb-4 application-pills",children:(0,i.jsx)(r.A.Item,{className:"application-item",children:(0,i.jsx)(r.A.Link,{className:"application-link",eventKey:null===e||void 0===e?void 0:e.key,children:e.value})})})))})})};var v=t(86178),m=t.n(v),x=t(14282),u=t(45394),h=t(33012),p=t(25543),j=t(98394),b=t(1071),A=t(66480);const N=function(e){let{tableData:a,currentTab:t,handleApproveReject:l,approvedLoader:n,selectedIndex:d}=e;return(0,i.jsx)("div",{children:(null===a||void 0===a?void 0:a.length)>0?(0,i.jsx)("table",{className:"table time-table table-bordered table-ui-custom",children:(0,i.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,a)=>{var n,o,r,c,v,j;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"time-table-data text-start",children:(0,i.jsxs)("div",{className:"d-flex align-items-center gap-2 white-nowrap",children:[(0,i.jsx)("div",{className:"user-imgbx application-userbx",children:(0,i.jsx)("img",{src:null!==e&&void 0!==e&&null!==(n=e.contract)&&void 0!==n&&null!==(o=n.developer)&&void 0!==o&&o.profile_picture?null===e||void 0===e||null===(r=e.contract)||void 0===r||null===(c=r.developer)||void 0===c?void 0:c.profile_picture:s,className:"user-img"})}),(0,i.jsx)("div",{className:"user-imgbx application-imgbx mx-0 mb-0"}),null===e||void 0===e||null===(v=e.contract)||void 0===v||null===(j=v.developer)||void 0===j?void 0:j.name]})}),(0,i.jsx)("td",{className:"time-table-data text-start",children:(0,i.jsx)("h4",{className:"leave-type-heading mb-0 white-nowrap",children:(0,p.r$)(null===e||void 0===e?void 0:e.type)})}),(0,i.jsx)("td",{className:"time-table-data text-start",children:(0,i.jsxs)("p",{className:"leave-date white-nowrap",children:[m()(null===e||void 0===e?void 0:e.start_date).format("MM-DD-YYYY")," to",m()(e.end_date).format("MM-DD-YYYY")]})}),(0,i.jsx)("td",{className:"time-table-data text-start reason-data",children:(0,i.jsx)("p",{className:"font-14 mb-0",children:null===e||void 0===e?void 0:e.reason_for_leave})}),(0,i.jsx)("td",{className:"time-table-data text-start",children:"first"!==t?(0,i.jsx)("span",{className:"status-finished",children:null===e||void 0===e?void 0:e.approval_status}):(0,i.jsxs)("div",{className:"d-flex justify-content-start gap-2",children:[(0,i.jsx)(h.A,{text:"Approve",children:(0,i.jsx)(b.A,{variant:"transparent",className:"px-3 mb-2 arrow-btn primary-arrow font-16 text-decoration-none",icon:d==a?(0,i.jsx)(A.A,{}):(0,i.jsx)(u.KDk,{}),onClick:()=>l(null===e||void 0===e?void 0:e.id,"Approved",a)})}),(0,i.jsx)(h.A,{text:"Reject",children:(0,i.jsx)(x.A,{variant:"transparent",className:"px-3 mb-2 arrow-btn danger-arrow font-16 text-decoration-none",onClick:()=>l(null===e||void 0===e?void 0:e.id,"Rejected"),children:(0,i.jsx)(u.lr4,{})})})]})})]})}))})}):(0,i.jsx)("td",{colSpan:8,children:(0,i.jsx)(j.A,{})})})};var f=t(4970),g=t(85603),y=(t(82476),t(25284)),w=t(73722),k=t(61072),C=t(78602),S=t(24858);const D=e=>{var a,t,s,d;let{show:o,handleClose:r,status:c}=e;const v=(0,n.wA)(),{smallLoader:m,btnLoader:x,clientHolidayList:u}=(0,n.d4)((e=>e.clientData)),{register:h,setValue:p,handleSubmit:j,reset:A,formState:{errors:N,isDirty:g,isValid:D,isSubmitting:L}}=(0,S.mN)({});(0,l.useEffect)((()=>{if("edit"==(null===c||void 0===c?void 0:c.status)){const e=null===u||void 0===u?void 0:u.find((e=>e.id==(null===c||void 0===c?void 0:c.id)));console.log(e,"selectedHoliday"),console.log(c,"status"),p("name",null===e||void 0===e?void 0:e.name),p("country",null===e||void 0===e?void 0:e.country),p("description",null===e||void 0===e?void 0:e.description),p("date",null===e||void 0===e?void 0:e.date)}else A()}),[c,u]);return(0,i.jsxs)(y.A,{show:o,onHide:e=>r(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,i.jsx)(y.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,i.jsxs)(y.A.Body,{children:["edit"===(null===c||void 0===c?void 0:c.status)?(0,i.jsx)("h3",{className:"popup-heading",children:"Edit Holiday"}):(0,i.jsx)("h3",{className:"popup-heading",children:"Create New Holiday"}),(0,i.jsx)(w.A,{onSubmit:j((async e=>{const a={country:null===e||void 0===e?void 0:e.country,name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,date:null===e||void 0===e?void 0:e.date};"edit"==(null===c||void 0===c?void 0:c.status)?(await v((0,f.zt)(a,null===c||void 0===c?void 0:c.id)),v((0,f.of)())):(await v((0,f.un)(a)),v((0,f.of)())),r(),A()})),children:(0,i.jsxs)(k.A,{children:[(0,i.jsx)(C.A,{md:12,className:"mb-3",children:(0,i.jsxs)(w.A.Group,{children:[(0,i.jsx)(w.A.Label,{className:"d-block font-14",children:"Holiday Name"}),(0,i.jsx)(w.A.Control,{type:"text",className:"common-field font-14",...h("name",{required:{value:!0,message:"Event name is required"}})}),(0,i.jsx)("p",{className:"error-message",children:null===N||void 0===N||null===(a=N.name)||void 0===a?void 0:a.message})]})}),(0,i.jsx)(C.A,{md:6,className:"mb-3",children:(0,i.jsxs)(w.A.Group,{children:[(0,i.jsx)(w.A.Label,{className:"d-block font-14",children:"Country"}),(0,i.jsx)(w.A.Control,{type:"text",className:"common-field font-14",...h("country",{required:{value:!0,message:"Country is required"}})}),(0,i.jsx)("p",{className:"error-message",children:null===N||void 0===N||null===(t=N.name)||void 0===t?void 0:t.message})]})}),(0,i.jsx)(C.A,{md:6,className:"mb-3",children:(0,i.jsxs)(w.A.Group,{children:[(0,i.jsx)(w.A.Label,{className:"d-block font-14",children:"Description"}),(0,i.jsx)(w.A.Control,{type:"text",className:"common-field font-14",...h("description",{required:{value:!0,message:"Description is required"}})}),(0,i.jsx)("p",{className:"error-message",children:null===N||void 0===N||null===(s=N.name)||void 0===s?void 0:s.message})]})}),(0,i.jsx)(C.A,{md:6,className:"mb-3",children:(0,i.jsxs)(w.A.Group,{children:[(0,i.jsx)(w.A.Label,{className:"d-block font-14",children:"Date"}),(0,i.jsx)(w.A.Control,{type:"date",className:"common-field font-14",min:(new Date).toISOString().split("T")[0],...h("date",{required:{value:!0,message:"Date is required"}})}),(0,i.jsx)("p",{className:"error-message",children:null===N||void 0===N||null===(d=N.date)||void 0===d?void 0:d.message})]})}),(0,i.jsx)(C.A,{md:12,children:(0,i.jsxs)("div",{className:"d-flex align-items-center gap-2 justify-content-center",children:[(0,i.jsx)("div",{className:"text-center ",children:(0,i.jsx)(b.A,{type:"submit",text:"Submit",isLoading:m,disabled:m,className:"main-btn px-4 me-2 font-14 fw-semibold",variant:"transparent"})}),(0,i.jsxs)("div",{className:"text-center",children:[" ",(0,i.jsx)(b.A,{type:"button",variant:"transparent",onClick:r,text:"Cancel",isLoading:x,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4"})]})]})})]})})]})]})};var L=t(82966),_=t(16713);const E=()=>{const e=(0,n.wA)(),[a,t]=(0,l.useState)("first"),{clientHolidayList:s}=(0,n.d4)((e=>e.clientData)),[v,m]=(0,l.useState)(null),[x,u]=(0,l.useState)({id:"",status:""}),{screenLoader:j,approvedLoader:b,smallLoader:A,clientLeaveHistory:y}=(0,n.d4)((e=>e.clientData)),[w,k]=(0,l.useState)(),[C,S]=(0,l.useState)(!1),[E,H]=(0,l.useState)(!1),[q,I]=(0,l.useState)(),M=e=>{t(e)};console.log(q,"deleteId");(0,l.useEffect)((()=>{let t;t="first"===a?{approval_status:"Under Approval"}:"second"===a?{approval_status:"Not Approved"}:"third"===a?{approval_status:"Approved"}:{approval_status:"Withdrawn"},e((0,f.vj)(t))}),[a]);const[R,K]=(0,l.useState)(!1);(0,l.useEffect)((()=>{e((0,f.of)())}),[]);const[Y,F]=(0,l.useState)(new Date),T=(e=>{const a=null===e||void 0===e?void 0:e.map((e=>new Date(null===e||void 0===e?void 0:e.date)));return a})(s);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.A.Container,{id:"left-tabs-example",defaultActiveKey:"devleave-request",onSelect:M,children:[(0,i.jsxs)(r.A,{variant:"pills",className:"mb-4 application-pills",children:[(0,i.jsx)(r.A.Item,{className:"application-item",children:(0,i.jsx)(r.A.Link,{className:"application-link",eventKey:"devleave-request",children:"Leave Request"})}),(0,i.jsx)(r.A.Item,{className:"application-item",children:(0,i.jsx)(r.A.Link,{className:"application-link",eventKey:"public-holiday",children:"Public Holiday"})})]}),(0,i.jsxs)(o.A.Content,{children:[(0,i.jsxs)(o.A.Pane,{eventKey:"devleave-request",children:[(0,i.jsx)(c,{handleSelect:M,tabText:p.X4,currentTab:a}),(0,i.jsx)(d,{data:(p.El[p.El.length-1]="first"===a?"Action":"Leave Status",p.El)}),(0,i.jsx)(N,{tableData:y,currentTab:a,handleApproveReject:async(a,t,l)=>{if(m(l),k(a),"Approved"===t){let l={leaveId:a,approval_status:t,rejection_reason:null};await e((0,f.FM)(l));let s={approval_status:"Under Approval"};e((0,f.vj)(s))}else H(!0)},approvedLoader:b,selectedIndex:v}),E&&(0,i.jsx)(g.A,{show:E,handleClose:()=>{H(!1)},header:"Rejection Reason",feedbacks:"Reasons",submit:"Submit",handleClick:async(a,t)=>{let l={leaveId:w,approval_status:"Not Approved",rejection_reason:t};await e((0,f.FM)(l));e((0,f.vj)({approval_status:"Under Approval"})),H(!E)},smallLoader:A})]}),(0,i.jsx)(o.A.Pane,{eventKey:"public-holiday",children:(0,i.jsx)(L.A,{onChange:F,value:Y,tileContent:e=>{let{date:a,view:t}=e;const l=s.find((e=>new Date(e.date).toDateString()===a.toDateString()));return"month"===t&&T.find((e=>e.toDateString()===a.toDateString()))?(0,i.jsx)(h.A,{text:null===l||void 0===l?void 0:l.name,children:(0,i.jsx)("div",{className:"dot"})}):null},holidayList:s,handleShowEvent:(e,a)=>{K(!R),u({id:e,status:a})},handleDelete:e=>{S(!C),I(e)},handleAproveDisapprove:async(a,t,l)=>{m(l);const s={action:t};await e((0,f.Vo)(s,a));e((0,f.of)({approval_status:"Under Approval"}))},approvedLoader:b,selectedIndex:v})}),(0,i.jsx)(D,{show:R,handleClose:()=>{K(!1)},status:x}),(0,i.jsx)(_.A,{show:C,handleClose:()=>{S(!1)},onClick:async a=>{a.preventDefault(),console.log(q,"deleteion"),await e((0,f.Bt)(q)),e((0,f.of)()),S(!1)},smallLoader:A,text:"Are you sure, you want to delete this holiday"})]})]})})}},16713:(e,a,t)=>{t.d(a,{A:()=>o});t(65043);var l=t(25284),s=t(73722),n=t(14282),i=t(1071),d=(t(4970),t(70579));const o=e=>{let{text:a,show:t,handleClose:o,onClick:r,handleAction:c,smallLoader:v,type:m,startDate:x,endDate:u}=e;return(0,d.jsxs)(l.A,{show:t,onHide:e=>o(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,d.jsx)(l.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,d.jsx)(l.A.Body,{children:(0,d.jsxs)(s.A,{children:[(0,d.jsx)(s.A.Group,{className:"mb-4",children:(0,d.jsx)(s.A.Label,{className:"d-block text-center",children:a})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(i.A,{type:"submit",text:"Yes",onClick:m?e=>{r(e,{status:m})}:c,className:"main-btn px-4 me-3 font-14 fw-semibold",variant:"transparent",disabled:v,isLoading:v}),(0,d.jsx)(n.A,{variant:"transparent",onClick:o,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4",children:"No"})]})]})})]})}},85603:(e,a,t)=>{t.d(a,{A:()=>r});var l=t(65043),s=t(25284),n=t(73722),i=t(14282),d=t(66480),o=t(70579);const r=e=>{let{show:a,handleClose:t,handleClick:r,smallLoader:c,header:v,feedbacks:m,submit:x}=e;const[u,h]=(0,l.useState)("");return(0,o.jsxs)(s.A,{show:a,onHide:t,centered:!0,className:"custom-modal",animation:!0,children:[(0,o.jsx)(s.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,o.jsxs)(s.A.Body,{children:[(0,o.jsxs)("h3",{className:"popup-heading",children:[v," "]}),(0,o.jsxs)(n.A,{children:[(0,o.jsxs)(n.A.Group,{className:"mb-4",children:[(0,o.jsx)(n.A.Label,{children:m}),(0,o.jsx)(n.A.Control,{as:"textarea",rows:"6",placeholder:"Reasons"===m?"Enter your reason, why you want to reject the leave ?":"Enter your feedback, why you want to reject?",onChange:e=>{h(e.target.value)},required:!0})]}),(0,o.jsx)("div",{className:"text-center",children:(0,o.jsxs)(i.A,{variant:"transparent",className:"main-btn px-4",onClick:e=>{let a;a="Reasons"===m?u:{status:"ended",end_reason:u},r(e,a)},disabled:0===(null===u||void 0===u?void 0:u.length),children:[c?(0,o.jsx)(d.A,{}):x," "]})})]})]})]})}}}]);
//# sourceMappingURL=795.96d62b52.chunk.js.map