"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[2061],{98394:(e,l,a)=>{a.d(l,{A:()=>n});a(65043);const s=a.p+"static/media/warning-icon.0644361391cc2004555a.gif";var i=a(70579);const n=e=>{let{data:l}=e;return(0,i.jsx)("div",{className:"no-data-container",children:(0,i.jsxs)("div",{className:"no-data",children:[(0,i.jsx)("img",{src:s}),l||"No Data Found"]})})}},39319:(e,l,a)=>{a.d(l,{A:()=>t});a(65043);var s=a(83003),i=(a(33859),a(83666),a(37194),a(27491)),n=a(70579);const t=e=>{let{number:l,setPage:a,page:t}=e;(0,s.wA)();const d=e=>{a(e)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(i.A,{className:"pagination flex-wrap",children:[(0,n.jsx)(i.A.Prev,{className:"pagination-arrow custom-pagination-item me-1",onClick:()=>d(t-1),disabled:1===t}),(0,n.jsx)("div",{className:"pages-link flex-wrap",children:(()=>{const e=[];if(l<=6)for(let a=1;a<=l;a++)e.push((0,n.jsx)(i.A.Item,{className:"custom-pagination-item",active:a===t,onClick:()=>d(a),children:a},a));else{e.push((0,n.jsx)(i.A.Item,{className:"custom-pagination-item",active:1===t,onClick:()=>d(1),children:1},1)),t>4&&e.push((0,n.jsx)(i.A.Ellipsis,{disabled:!0},"start-dots"));for(let a=Math.max(2,t-1);a<=Math.min(t+1,l-1);a++)e.push((0,n.jsx)(i.A.Item,{className:"custom-pagination-item",active:a===t,onClick:()=>d(a),children:a},a));t<l-3&&e.push((0,n.jsx)(i.A.Ellipsis,{disabled:!0},"end-dots")),e.push((0,n.jsx)(i.A.Item,{className:"custom-pagination-item",active:l===t,onClick:()=>d(l),children:l},l))}return e})()}),(0,n.jsx)(i.A.Next,{className:"pagination-arrow next-arrow ms-1 custom-pagination-item",onClick:()=>d(t+1),disabled:t===l})]})})}},53197:(e,l,a)=>{a.d(l,{A:()=>W});var s=a(65043),i=a(73722),n=a(44063),t=a(83003),d=a(4970),o=a(10615),r=a(1071),c=a(28086),m=a(82476),v=a(98394),h=a(13368),x=a(86178),u=a.n(x),p=a(75200),j=a(23156),f=a(70579);const g=e=>{let{item:l}=e,{end_time:a,start_time:s,memo:i,report_date:n}=l;return(0,f.jsxs)("div",{className:"weekly-detail mb-3 p-3",children:[(0,f.jsxs)("div",{className:"client-info mb-3 gap-5",children:[(0,f.jsx)("div",{className:"mb-2",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(p.wIk,{}),n]})}),(0,f.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,f.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(j.obD,{}),s?u()(s,"HH:mm:ss").format("h:mm:ss A"):"00:00"]}),(0,f.jsx)("p",{className:"client-name-heading",children:"-"}),(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(j.obD,{}),a?u()(a,"HH:mm:ss").format("h:mm:ss A"):"00:00"]})]})})]}),(0,f.jsxs)("div",{className:"client-info",children:[(0,f.jsx)("h4",{className:"sidebar-heading",children:"Memo"}),(0,f.jsx)("p",{className:"client-name-heading",children:i||"Memo not Found"})]})]})};var N=a(5328),b=a(92843);const y=e=>{let{currentDetails:l,selectedPeriod:a,role:i}=e;const[n,t]=(0,s.useState)();let{contractDetails:{user_details:d},endDate:o,startDate:r,timeReports:{end_time:c,start_time:m,memo:v,weeklyDetails:h,monthlyDetails:x,report_date:y,week:w,month:k},totalDuration:A}=l;(0,s.useEffect)((()=>{if(void 0!==h)t(h);else if(void 0!==x){var e;t(null===(e=x[0])||void 0===e?void 0:e.weeklyDetails)}}),[]);return console.log(l,"weeklyDetails"),console.log(k,"role"),(0,f.jsxs)(f.Fragment,{children:["weekly"==a?(0,f.jsxs)("div",{className:"detail-view day-view",children:[(0,f.jsxs)("div",{className:"client-info mb-3",children:[(0,f.jsx)("h4",{className:"sidebar-heading",children:"developer"!==i?"Developer Name":"Client Name"}),(0,f.jsxs)("p",{className:"client-name-heading",children:[(0,f.jsx)("img",{src:null===d||void 0===d?void 0:d.profile_picture}),null===d||void 0===d?void 0:d.name]})]}),(0,f.jsxs)("div",{className:"client-info mb-3 d-`flex gap-5",children:[(0,f.jsx)("div",{className:"mb-0",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center mb-2",children:[(0,f.jsx)(p.wIk,{}),y]})}),(0,f.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,f.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(j.obD,{}),m?u()(m,"HH:mm").format("h:mm A"):"00:00"]}),(0,f.jsx)("p",{className:"client-name-heading",children:"-"}),(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(j.obD,{}),m?u()(c,"HH:mm").format("h:mm A"):"00:00"]})]})})]}),(0,f.jsx)("div",{class:"weekly-detail",children:(0,f.jsxs)("div",{className:"client-info",children:[(0,f.jsx)("h4",{className:"sidebar-heading",children:"Memo"}),(0,f.jsx)("p",{className:"client-name-heading",children:v||"Memo not found"})]})})]}):"","monthly"==a?(0,f.jsxs)("div",{className:"detail-view weekly-view",children:[(0,f.jsxs)("div",{className:"client-info mb-3",children:["developer"!==i?"Developer Name":"Client Name",(0,f.jsxs)("p",{className:"client-name-heading",children:[(0,f.jsx)("img",{src:null===d||void 0===d?void 0:d.profile_picture}),null===d||void 0===d?void 0:d.name]})]}),"monthly"==a?(0,f.jsxs)("div",{className:"client-info mb-3 gap-5 d-flex align-items-center",children:[(0,f.jsx)("div",{className:"mb-0",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(p.wIk,{}),w," ",y]})}),(0,f.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,f.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center fw-semibold",children:[(0,f.jsx)(j.obD,{})," ",A," hrs"]})})}),(0,f.jsx)("div",{children:(0,f.jsx)("span",{className:"status-progress",children:"Progress"})})]}):"",null===n||void 0===n?void 0:n.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g,{item:e})})))]}):"","yearly"==a?(0,f.jsxs)("div",{className:"detail-view monthly-view",children:[(0,f.jsxs)("div",{className:"client-info mb-3",children:["developer"!==i?"Developer Name":"Client Name",(0,f.jsxs)("p",{className:"client-name-heading",children:[(0,f.jsx)("img",{src:null===d||void 0===d?void 0:d.profile_picture}),null===d||void 0===d?void 0:d.name]})]}),(0,f.jsxs)("div",{className:"client-info mb-3 gap-5 d-flex align-items-center",children:[(0,f.jsx)("div",{className:"mb-0",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(p.wIk,{}),k," ",y]})}),(0,f.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,f.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center fw-semibold",children:[(0,f.jsx)(j.obD,{})," ",A.toFixed("2")," hrs"]})})}),(0,f.jsx)("div",{children:(0,f.jsx)("span",{className:"status-progress",children:"Progress"})})]}),(0,f.jsxs)(N.A.Container,{id:"left-tabs-example",defaultActiveKey:"Week 1",onSelect:e=>{let l=null===x||void 0===x?void 0:x.find((l=>l.week==e));t(null===l||void 0===l?void 0:l.weeklyDetails)},children:[(0,f.jsxs)(b.A,{variant:"pills",className:"weekly-tabs",children:[(0,f.jsx)(b.A.Item,{className:"weekly-tab-item",children:(0,f.jsx)(b.A.Link,{className:"weekly-tab-link",eventKey:"Week 1",children:"Week 1"})}),(0,f.jsx)(b.A.Item,{className:"weekly-tab-item",children:(0,f.jsx)(b.A.Link,{className:"weekly-tab-link",eventKey:"Week 2",children:"Week 2"})}),(0,f.jsx)(b.A.Item,{className:"weekly-tab-item",children:(0,f.jsx)(b.A.Link,{className:"weekly-tab-link",eventKey:"Week 3",children:"Week 3"})}),(0,f.jsx)(b.A.Item,{className:"weekly-tab-item",children:(0,f.jsx)(b.A.Link,{className:"weekly-tab-link",eventKey:"Week 4",children:"Week 4"})})]}),(0,f.jsxs)(N.A.Content,{children:[(0,f.jsx)(N.A.Pane,{eventKey:"Week 1",children:null===n||void 0===n?void 0:n.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g,{item:e})})))}),(0,f.jsx)(N.A.Pane,{eventKey:"Week 2",children:null===n||void 0===n?void 0:n.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g,{item:e})})))}),(0,f.jsx)(N.A.Pane,{eventKey:"Week 3",children:null===n||void 0===n?void 0:n.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g,{item:e})})))}),(0,f.jsx)(N.A.Pane,{eventKey:"Week 4",children:null===n||void 0===n?void 0:n.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(g,{item:e})})))})]})]})]}):""]})};var w=a(16713);const k=a.p+"static/media/remarks-icon.e8394e1d1b0ac59ef737ba64dad11d00.svg";var A=a(39062),D=(a(37194),a(49342)),_=a(14282),C=a(45394);const S=(0,f.jsx)(o.A,{id:"tooltip",children:"Approve"}),E=(0,f.jsx)(o.A,{id:"tooltip",children:"Reject"}),H=e=>{let{item:l,role:a,index:i,handleChangeUpdateWeeklyData:n,selectedPeriod:o,page:r}=e;const c=(0,t.wA)(),[m,v]=(0,s.useState)({editItem:null,isEdit:!1}),[h,x]=(0,s.useState)([]);let{end_time:g,start_time:N,memo:b,report_date:y,id:w,contract_id:k}=l;(0,s.useEffect)((()=>{x([{...l,id:i}])}),[]);const H=async e=>{let l={contract_id:k,report_date:y,reconciliation_id:w,client_remark:null,is_approved:e};await c(e?(0,d.ew)(l):(0,d.qE)(l));let s={page:r,selectedPeriod:o};c((0,d.EO)(s,a))};return(0,f.jsxs)("div",{className:"weekly-detail mb-3 p-3",children:[(0,f.jsxs)("div",{className:"client-info mb-3 gap-5",children:[(0,f.jsx)("div",{className:"mb-2",children:(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,f.jsx)("div",{className:"datePrim",children:(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(p.wIk,{}),y]})}),(0,f.jsxs)("div",{className:"editSec",children:["client"!==a&&!0!==(null===l||void 0===l?void 0:l.reconciliation_approved)?(0,f.jsx)("span",{className:"px-3 mb-2 arrow-btn info-arrow font-16 text-decoration-none",onClick:()=>{v({editItem:null,isEdit:!(null!==m&&void 0!==m&&m.isEdit)})},children:(0,f.jsx)(D.g4E,{})}):"",(0,f.jsx)("div",{className:"d-flex gap-2",children:"client"==a&&null==(null===l||void 0===l?void 0:l.is_approved)?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(A.A,{placement:"bottom",overlay:S,children:(0,f.jsx)(_.A,{variant:"transparent",className:"px-3 mb-2 arrow-btn primary-arrow font-16 text-decoration-none",onClick:()=>H(!0),children:(0,f.jsx)(C.KDk,{})})}),(0,f.jsx)(A.A,{placement:"bottom",overlay:E,children:(0,f.jsx)(_.A,{variant:"transparent",className:"px-3 mb-2 arrow-btn danger-arrow font-16 text-decoration-none",onClick:()=>H(!1),children:(0,f.jsx)(C.lr4,{})})})]}):""})]})]})}),(0,f.jsx)("div",{className:"d-flex gap-4 justify-content-between",children:(0,f.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(j.obD,{}),null!==m&&void 0!==m&&m.isEdit?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("input",{type:"time",className:"common-field form-control",value:u()(null===l||void 0===l?void 0:l.start_time,"HH:mm:ss").format("HH:mm"),name:"start_time",onChange:e=>n(e,i)})}):N?u()(N,"HH:mm:ss").format("h:mm A"):"00:00"]}),(0,f.jsx)("p",{className:"client-name-heading",children:"-"}),(0,f.jsxs)("p",{className:"client-name-heading d-flex gap-1 align-items-center",children:[(0,f.jsx)(j.obD,{}),null!==m&&void 0!==m&&m.isEdit?(0,f.jsx)("input",{type:"time",className:"common-field form-control",value:u()(null===l||void 0===l?void 0:l.end_time,"HH:mm:ss").format("HH:mm"),name:"end_time",onChange:e=>n(e,i)}):g?u()(g,"HH:mm:ss").format("h:mm A"):"00:00"]})]})})]}),(0,f.jsxs)("div",{className:"client-info",children:[(0,f.jsx)("h4",{className:"sidebar-heading",children:"Memo"}),null!==m&&void 0!==m&&m.isEdit?(0,f.jsx)("input",{type:"text",className:"common-field form-control",value:null===l||void 0===l?void 0:l.memo,name:"memo",onChange:e=>n(e,i)}):(0,f.jsx)("p",{className:"client-name-heading",children:b||"Memo not Found"}),(0,f.jsx)("div",{children:null!==l&&void 0!==l&&l.is_approved||null!==l&&void 0!==l&&l.reconciliation_approved?(0,f.jsx)("span",{className:"status-finished mt-2 mx-1",children:"Approved"}):(!1===(null===l||void 0===l?void 0:l.is_approved)||0==(null===l||void 0===l?void 0:l.reconciliation_approved))&&(0,f.jsx)("span",{className:"status-rejected mt-2",children:"Rejected"})})]})]})},F=e=>{let{remarkshow:l,handleremarkClose:a,contractId:i,currentDetails:n,role:o,selectedPeriod:m,page:v}=e,{contractDetails:{user_details:x,contract_id:u},endDate:p,startDate:j,allSelectedTimeReport:g,timeReports:{end_time:N,start_time:b,memo:y,weeklyDetails:w,monthlyDetails:k,report_date:A,week:D,month:_},totalDuration:C}=n;const[S,E]=(0,s.useState)(null),[F,R]=(0,s.useState)([]),O=(0,t.wA)(),[P,I]=(0,s.useState)([]),{smallLoader:L,reconciliationsData:W}=(0,t.d4)((e=>e.clientData));(0,s.useEffect)((()=>{I("client"==o?W:g)}),[W]),console.log(g,"allSelectedTimeReport");const T=(e,l)=>{const{value:a,name:s}=e.target,i=JSON.parse(JSON.stringify(P));i[l][s]=a,i[l].isEdited=!0,I(i)};return console.log(x,"user"),(0,f.jsxs)(c.A,{className:"time-detail-sidepanel",show:l,onHide:a,placement:"end",children:[(0,f.jsx)(c.A.Header,{closeButton:!0,children:(0,f.jsx)(c.A.Title,{children:"Reconciliation"})}),(0,f.jsxs)(c.A.Body,{children:[(0,f.jsxs)("div",{className:"detail-view weekly-view",children:[(0,f.jsxs)("div",{className:"client-info mb-3",children:[(0,f.jsx)("p",{children:"developer"!==o?"Developer Name":"Client Name"}),(0,f.jsxs)("p",{className:"client-name-heading",children:[(0,f.jsx)("img",{src:null===x||void 0===x?void 0:x.profile_picture}),null===x||void 0===x?void 0:x.name]})]}),null===P||void 0===P?void 0:P.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(H,{handleChangeUpdateWeeklyData:T,item:e,role:o,contract_id:u,index:l,selectedPeriod:m,page:v})})))]}),"client"!==o&&(0,f.jsx)(r.A,{type:"submit",text:"Submit",className:"main-btn font-14 mt-2 py-2 px-3",variant:"transparent",onClick:()=>{let e=JSON.parse(JSON.stringify(P)).filter((e=>!0===(null===e||void 0===e?void 0:e.isEdited))).map((e=>{let{isEdited:l,...a}=e;return{...a,contract_id:Number(i)}}));null!==e&&void 0!==e&&e.length?O((0,h.Gt)(e,(()=>{a(),O((0,d.EO)({filter:"weekly"},o))}))):a()},disabled:L,isLoading:L})]})]})};var R=a(31404),O=a(25543);const P=e=>{let{selectedPeriod:l,headerColumn:a,data:i,role:x,page:p}=e;const[j,g]=(0,s.useState)(!1),[N,b]=(0,s.useState)(null),[D,_]=(0,s.useState)(!1),[C,S]=(0,s.useState)(null),[E,H]=(0,s.useState)({isApproved:!1,approvedId:null,startDate:null,endDate:null}),[P,I]=(0,s.useState)(null),L=(e,l,a)=>{if(null===a||void 0===a||!a.is_off_day){let a=null===e||void 0===e?void 0:e.timeReports[l],s={...e,timeReports:a};I(s),g(!0)}},W=(0,f.jsx)(o.A,{id:"tooltip",children:"View Reconciliation"}),[T,M]=(0,s.useState)(!1);function B(e){const l=(new Date).toISOString().split("T")[0];return e.filter((e=>e.report_date<=l&&(!e.is_off_day||e.is_holiday)))}const{approvedLoader:K,smallLoader:U}=(0,t.d4)((e=>e.developerData)),Z=(0,t.wA)(),J=(e,l)=>"client"==e?l?"Approved":"Submit & Approve":l?"Approved":"Submit";return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"weekly-report-table ".concat(l),children:[(0,f.jsx)("div",{className:"table-responsive",children:U?(0,f.jsx)(m.A,{}):(null===i||void 0===i?void 0:i.length)>0?(0,f.jsxs)("table",{className:"table time-table table-bordered table-ui-custom",children:[(0,f.jsxs)("thead",{children:[(0,f.jsx)("th",{className:"time-table-head",children:(0,f.jsx)("span",{children:"developer"!==x?"Developer Name":"Client Name"})}),null===a||void 0===a?void 0:a.map(((e,l)=>(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("th",{className:"time-table-head",children:(0,f.jsxs)("span",{children:[e," "]})})}))),(0,f.jsx)("th",{className:"time-table-head",children:(0,f.jsx)("span",{children:"Total Hours"})}),"developer"==x&&(0,f.jsx)("th",{className:"time-table-head",children:(0,f.jsx)("span",{children:"Timesheet"})}),(0,f.jsx)("th",{className:"time-table-head",children:(0,f.jsx)("span",{children:"Reconciliation"})}),"weekly"==l&&"developer"!==x?(0,f.jsx)("th",{className:"time-table-head",children:(0,f.jsx)("span",{children:"Submit"})}):""]}),(0,f.jsx)("tbody",{children:(null===i||void 0===i?void 0:i.length)>0?null===i||void 0===i?void 0:i.map(((e,a)=>{var s,i,t,o,c,m,v,h,p,j;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:"time-table-data",children:(0,f.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,f.jsxs)("div",{className:"d-flex gap-2 align-items-center white-nowrap",children:[(0,f.jsx)("div",{className:"position-relative",children:(0,f.jsx)("img",{src:null!==e&&void 0!==e&&null!==(s=e.contractDetails)&&void 0!==s&&null!==(i=s.user_details)&&void 0!==i&&i.profile_picture?null===e||void 0===e||null===(t=e.contractDetails)||void 0===t||null===(o=t.user_details)||void 0===o?void 0:o.profile_picture:n,className:"developer-img",alt:""})})," ",null===e||void 0===e||null===(c=e.contractDetails)||void 0===c||null===(m=c.user_details)||void 0===m?void 0:m.name]})})}),null===e||void 0===e||null===(v=e.timeReports)||void 0===v?void 0:v.map(((l,a)=>l.report_date?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("td",{onClick:()=>L(e,a,l),className:"time-table-data white-nowrap ".concat(null!==l&&void 0!==l&&l.is_public_holiday?"holiday-data":l.is_off_day?"offday-data":"workday-data"),children:(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:"".concat(l.is_off_day?"":"timing-text d-inline-block"),children:l.start_time&&null!==l&&void 0!==l&&l.end_time?"".concat(u()(null===l||void 0===l?void 0:l.start_time,"HH:mm").format("h:mm A")," - ").concat(u()(null===l||void 0===l?void 0:l.end_time,"HH:mm").format("h:mm A")," "):null!==l&&void 0!==l&&l.is_holiday?"Holiday":null!==l&&void 0!==l&&l.is_public_holiday?null===l||void 0===l?void 0:l.holiday_name:null!==l&&void 0!==l&&l.is_off_day?"Leave":""}),(null===l||void 0===l?void 0:l.memo)&&(0,f.jsx)("p",{className:"memo-text",children:null!==l&&void 0!==l&&l.memo?null===l||void 0===l?void 0:l.memo:""})]})})}):null!==l&&void 0!==l&&l.week?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("td",{onClick:()=>L(e,a,l),className:"time-table-data white-nowrap ".concat(l.is_off_week?"offday-data":"workday-data"),children:(0,f.jsx)("div",{children:null!==l&&void 0!==l&&l.duration?"".concat(null===l||void 0===l?void 0:l.duration.toFixed("2")," hr"):"Holiday"})})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("td",{onClick:()=>L(e,a,l),className:"time-table-data white-nowrap ".concat(l.is_off_month?"offday-data":"workday-data"),children:(0,f.jsx)("div",{children:null!==l&&void 0!==l&&l.duration?"".concat(null===l||void 0===l?void 0:l.duration.toFixed("2")," hr"):"Holiday"})})}))),(0,f.jsxs)("td",{className:"time-table-data",children:[(null===e||void 0===e?void 0:e.totalDuration)>0?null===e||void 0===e?void 0:e.totalDuration.toFixed("2"):null===e||void 0===e?void 0:e.totalDuration,"hr"]}),"developer"==x&&(0,f.jsx)("td",{className:"time-table-data",children:(0,f.jsx)("span",{className:"status-progress white-nowrap",children:null!==e&&void 0!==e&&e.isApproved?"Reviewed":"Under Review"})}),(0,f.jsx)("td",{className:"time-table-data",children:(0,f.jsxs)("button",{onClick:()=>{((e,l)=>{var a;let s=null===e||void 0===e?void 0:e.timeReports[l],i={...e,timeReports:s,allSelectedTimeReport:B(null===e||void 0===e?void 0:e.timeReports)};var n;"client"==x&&Z((0,d.yh)(null===e||void 0===e||null===(n=e.contractDetails)||void 0===n?void 0:n.contract_id)),I(i),b(null===i||void 0===i||null===(a=i.contractDetails)||void 0===a?void 0:a.contract_id),M(!0)})(e,a)},className:"remarks-text position-relative white-nowrap removeBtnStyles",children:[(null===e||void 0===e||null===(h=e.contractDetails)||void 0===h||null===(p=h.remarks)||void 0===p?void 0:p.length)>0?(0,f.jsx)("img",{src:k,className:"remark-icon"}):(0,f.jsx)(A.A,{placement:"bottom",overlay:W,children:(0,f.jsx)("img",{src:k,className:"remark-icon"})})," "]})}),"weekly"==l&&"developer"!==x?(0,f.jsx)("td",{className:"time-table-data",children:null!==e&&void 0!==e&&e.isApproved?(0,f.jsx)("span",{className:"status-finished",children:"Approved"}):(0,f.jsx)(r.A,{type:"submit",text:J(x,null===e||void 0===e?void 0:e.isApproved),className:"outline-main-btn white-nowrap px-2 font-13",variant:"transparent",disabled:(j=null===e||void 0===e?void 0:e.isApproved,"client"==x||"developer"==x?!!j:void 0),onClick:()=>{var l,a,s,i;(e=>{const l=null===e||void 0===e?void 0:e.findIndex((e=>!(null!==e&&void 0!==e&&e.is_holiday)&&!(null!==e&&void 0!==e&&e.is_off_day)&&!(null!==e&&void 0!==e&&e.memo)));_(-1!==l)})(null===e||void 0===e?void 0:e.timeReports),a=null===e||void 0===e||null===(l=e.contractDetails)||void 0===l?void 0:l.contract_id,s=null===e||void 0===e?void 0:e.startDate,i=null===e||void 0===e?void 0:e.endDate,H({isApproved:!0,approvedId:a,startDate:s,endDate:i})},isLoading:C===a&&K})}):""]})})})):(0,f.jsxs)("td",{colSpan:17,children:[" ",(0,f.jsx)("div",{className:"simple-no-data",children:(0,f.jsx)(v.A,{})}),"  "]})})]}):(0,f.jsxs)("td",{colSpan:10,children:[" ",(0,f.jsx)("div",{className:"simple-no-data",children:(0,f.jsx)(v.A,{})}),"  "]})}),(0,f.jsxs)(c.A,{className:"time-detail-sidepanel",show:j,onHide:()=>g(!1),placement:"end",children:[(0,f.jsx)(c.A.Header,{closeButton:!0,children:(0,f.jsx)(c.A.Title,{children:"Time Reporting"})}),(0,f.jsxs)(c.A.Body,{children:["weekly"==l&&(0,f.jsx)(y,{currentDetails:P,selectedPeriod:l,role:x}),"monthly"==l&&(0,f.jsx)(y,{currentDetails:P,selectedPeriod:l,role:x}),"yearly"==l&&(0,f.jsx)(y,{currentDetails:P,selectedPeriod:l,role:x})]})]}),T?(0,f.jsx)(F,{contractId:N,remarkshow:T,handleremarkClose:()=>M(!1),currentDetails:P,page:p,role:x,selectedPeriod:l}):"",(0,f.jsx)(w.A,{text:D?"Are you sure to submit this time sheet ? It looks like you haven't written your work status for all the days of the week.":"Are you sure you want to submit this time sheet?",show:null===E||void 0===E?void 0:E.isApproved,startDate:null===E||void 0===E?void 0:E.startDate,endDate:null===E||void 0===E?void 0:E.endDate,handleClose:()=>{_(null),H({isApproved:!1,approvedId:null,startDate:null,endDate:null})},onClick:e=>{e.preventDefault();const l={startDate:null===E||void 0===E?void 0:E.startDate,endDate:null===E||void 0===E?void 0:E.endDate};Z((0,h.zR)(null===E||void 0===E?void 0:E.approvedId,l,x,(()=>{H({isApproved:!1,approvedId:null});let e={page:p};Z((0,d.EO)(e,x))})))},smallLoader:K})]}),(0,f.jsx)(R.A,{heading:"Guiding You Through: Helpful Text to Navigate Time Reporting",guideLines:O.v5})]})};var I=a(39319),L=a(74117);const W=e=>{let{timeReportingData:l,handleShowModal:a,role:n}=e;const o=(0,t.wA)(),[c,v]=(0,s.useState)("weekly"),[h,x]=(0,s.useState)({filter:"weekly"}),[u,p]=(0,s.useState)(""),[j,g]=(0,s.useState)(""),[N,b]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[k,A]=(0,s.useState)(1),{t:D}=(0,L.Bd)(),{screenLoader:_,timeReportingPage:C}=(0,t.d4)((e=>e.clientData));(0,s.useEffect)((()=>{let e={...h,filter:c,page:k};o((0,d.EO)(e,n))}),[k]);const S=(e,l)=>{const a=e.target.value;e.preventDefault(),x({...h,[l]:e.target.value}),"week"===l?p(a):"month"===l?b(a):g(e.target.value)};return(0,f.jsx)(f.Fragment,{children:_?(0,f.jsx)(m.A,{}):(0,f.jsxs)("section",{children:[(0,f.jsx)("div",{className:"filter-section",children:(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap gap-3",children:[(0,f.jsx)(i.A,{children:(0,f.jsxs)("div",{className:"d-flex gap-3 flex-wrap align-items-end",children:[(0,f.jsx)("div",{children:(0,f.jsxs)(i.A.Select,{className:"time-filter-select shadow-none",onChange:e=>S(e,"year"),value:j,children:[(0,f.jsx)("option",{value:"",disabled:!0,selected:!0,children:D("selectYear")}),null===O.dI||void 0===O.dI?void 0:O.dI.map((e=>(0,f.jsx)("option",{children:e},e)))]})}),"yearly"!==c?(0,f.jsx)("div",{children:(0,f.jsxs)(i.A.Select,{className:"time-filter-select shadow-none",onChange:e=>S(e,"month"),value:N,children:[(0,f.jsx)("option",{value:"",selected:!0,disabled:!0,children:D("selectMonth")}),null===O.Z6||void 0===O.Z6?void 0:O.Z6.map(((e,l)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.label},l)))]})}):"","yearly"!==c&&"monthly"!==c?(0,f.jsx)("div",{children:(0,f.jsxs)(i.A.Select,{className:"time-filter-select shadow-none",onChange:e=>S(e,"week"),value:u,children:[(0,f.jsx)("option",{value:"",selected:!0,disabled:!0,children:D("selectWeek")}),null===O.Z_||void 0===O.Z_?void 0:O.Z_.map(((e,l)=>(0,f.jsx)("option",{value:null===e||void 0===e?void 0:e.value,children:null===e||void 0===e?void 0:e.label},l)))]})}):"",(0,f.jsx)("div",{className:"d-flex gap-3",children:(0,f.jsx)(r.A,{type:"submit",text:"Filter",className:"main-btn py-1_5 px-4",variant:"transparent",onClick:e=>{e.preventDefault();let l={...h,filter:c,page:k};"yearly"===c?(l.year=h.year,delete l.month,delete l.week):"monthly"===c?(l.year=h.year,l.month=h.month,delete l.week):(l.year=h.year,l.month=h.month,l.week=h.week),o((0,d.EO)(l,n))},isLoading:!1,disabled:!("weekly"===c&&Object.keys(h).length>3)&&(!("monthly"===c&&Object.keys(h).length>2)&&!("yearly"===c&&Object.keys(h).length>1))})})]})}),(0,f.jsxs)("div",{className:"d-flex gap-2",children:[(0,f.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"indicator-time-slot d-flex gap-3 align-items-center flex-wrap",children:[(0,f.jsxs)("div",{className:"d-inline-flex align-items-center gap-1",children:[(0,f.jsx)("span",{className:"slot-indicate offday"}),(0,f.jsx)("span",{className:"font-14 fw-semibold",children:D("offDay")})]}),(0,f.jsxs)("div",{className:"d-inline-flex align-items-center gap-1",children:[(0,f.jsx)("span",{className:"slot-indicate workday"}),(0,f.jsx)("span",{className:"font-14 fw-semibold",children:D("workDay")})]})]})})}),(0,f.jsx)("div",{className:"flex-none",children:(0,f.jsxs)(i.A.Select,{className:" time-filter-select shadow-none",value:y,onChange:e=>(e=>{w(e);const l=e;v(l);let a={...h,filter:l,page:k};delete a.week,delete a.month,delete a.year,b(""),g(""),p(""),x({filter:l}),o((0,d.EO)(a,n))})(e.target.value),children:[(0,f.jsx)("option",{selected:!0,disabled:!0,children:D("selectView")}),(0,f.jsx)("option",{value:"weekly",children:D("weekly")}),(0,f.jsx)("option",{value:"monthly",children:D("monthly")}),(0,f.jsx)("option",{value:"yearly",children:D("yearly")})]})})]})]})}),(0,f.jsx)(P,{headerColumn:(0,O.WN)(l[0],c),selectedPeriod:c,data:l,role:n,page:k}),(null===C||void 0===C?void 0:C.totalPages)>1?(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 mb-4",children:[(0,f.jsxs)("p",{className:"showing-result",children:[D("showing")," ",null===l||void 0===l?void 0:l.length," ",D("results")]}),(0,f.jsx)(I.A,{number:null===C||void 0===C?void 0:C.totalPages,setPage:A,page:k})]}):""]})})}},31404:(e,l,a)=>{a.d(l,{A:()=>i});a(65043);var s=a(70579);const i=e=>{let{heading:l,guideLines:a}=e;return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"helper-text-section",children:[(0,s.jsx)("h3",{children:l}),(0,s.jsx)("ol",{className:"ps-3  mb-0",children:null===a||void 0===a?void 0:a.map(((e,l)=>(0,s.jsx)("li",{className:"mb-1",children:(0,s.jsxs)("p",{children:[" ",e," "]},l)})))})]})})}},16713:(e,l,a)=>{a.d(l,{A:()=>o});a(65043);var s=a(25284),i=a(73722),n=a(14282),t=a(1071),d=(a(4970),a(70579));const o=e=>{let{text:l,show:a,handleClose:o,onClick:r,handleAction:c,smallLoader:m,type:v,startDate:h,endDate:x}=e;return(0,d.jsxs)(s.A,{show:a,onHide:e=>o(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,d.jsx)(s.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,d.jsx)(s.A.Body,{children:(0,d.jsxs)(i.A,{children:[(0,d.jsx)(i.A.Group,{className:"mb-4",children:(0,d.jsx)(i.A.Label,{className:"d-block text-center",children:l})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(t.A,{type:"submit",text:"Yes",onClick:v?e=>{r(e,{status:v})}:c,className:"main-btn px-4 me-3 font-14 fw-semibold",variant:"transparent",disabled:m,isLoading:m}),(0,d.jsx)(n.A,{variant:"transparent",onClick:o,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4",children:"No"})]})]})})]})}},28086:(e,l,a)=>{a.d(l,{A:()=>I});var s=a(98139),i=a.n(s),n=a(54723),t=a(65043);const d=new WeakMap,o=(e,l)=>{if(!e||!l)return;const a=d.get(l)||new Map;d.set(l,a);let s=a.get(e);return s||(s=l.matchMedia(e),s.refCount=0,a.set(s.media,s)),s};function r(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const a=o(e,l),[s,i]=(0,t.useState)((()=>!!a&&a.matches));return(0,n.A)((()=>{let a=o(e,l);if(!a)return i(!1);let s=d.get(l);const n=()=>{i(a.matches)};return a.refCount++,a.addListener(n),n(),()=>{a.removeListener(n),a.refCount--,a.refCount<=0&&(null==s||s.delete(a.media)),a=void 0}}),[e]),s}const c=function(e){const l=Object.keys(e);function a(e,l){return e===l?l:e?"".concat(e," and ").concat(l):l}function s(a){const s=function(e){return l[Math.min(l.indexOf(e)+1,l.length-1)]}(a);let i=e[s];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(l,i,n){let d;return"object"===typeof l?(d=l,n=i,i=!0):(i=i||!0,d={[l]:i}),r((0,t.useMemo)((()=>Object.entries(d).reduce(((l,i)=>{let[n,t]=i;return"up"!==t&&!0!==t||(l=a(l,function(l){let a=e[l];return"number"===typeof a&&(a="".concat(a,"px")),"(min-width: ".concat(a,")")}(n))),"down"!==t&&!0!==t||(l=a(l,s(n))),l}),"")),[JSON.stringify(d)]),n)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});var m=a(71456),v=a(5464),h=a(18072),x=a(67852),u=a(70579);const p=t.forwardRef(((e,l)=>{let{className:a,bsPrefix:s,as:n="div",...t}=e;return s=(0,x.oU)(s,"offcanvas-body"),(0,u.jsx)(n,{ref:l,className:i()(a,s),...t})}));p.displayName="OffcanvasBody";const j=p;var f=a(21358),g=a(33492),N=a(14910);const b={[f.ns]:"show",[f._K]:"show"},y=t.forwardRef(((e,l)=>{let{bsPrefix:a,className:s,children:n,in:d=!1,mountOnEnter:o=!1,unmountOnExit:r=!1,appear:c=!1,...m}=e;return a=(0,x.oU)(a,"offcanvas"),(0,u.jsx)(N.A,{ref:l,addEndListener:g.A,in:d,mountOnEnter:o,unmountOnExit:r,appear:c,...m,childRef:n.ref,children:(e,l)=>t.cloneElement(n,{...l,className:i()(s,n.props.className,(e===f.ns||e===f.ze)&&"".concat(a,"-toggling"),b[e])})})}));y.displayName="OffcanvasToggling";const w=y;var k=a(31602),A=a(19125),D=a(42258);const _=t.forwardRef(((e,l)=>{let{bsPrefix:a,className:s,closeLabel:n="Close",closeButton:t=!1,...d}=e;return a=(0,x.oU)(a,"offcanvas-header"),(0,u.jsx)(D.A,{ref:l,...d,className:i()(s,a),closeLabel:n,closeButton:t})}));_.displayName="OffcanvasHeader";const C=_;const S=(0,a(4488).A)("h5"),E=t.forwardRef(((e,l)=>{let{className:a,bsPrefix:s,as:n=S,...t}=e;return s=(0,x.oU)(s,"offcanvas-title"),(0,u.jsx)(n,{ref:l,className:i()(a,s),...t})}));E.displayName="OffcanvasTitle";const H=E;var F=a(40011);function R(e){return(0,u.jsx)(w,{...e})}function O(e){return(0,u.jsx)(h.A,{...e})}const P=t.forwardRef(((e,l)=>{let{bsPrefix:a,className:s,children:n,"aria-labelledby":d,placement:o="start",responsive:r,show:h=!1,backdrop:p=!0,keyboard:j=!0,scroll:f=!1,onEscapeKeyDown:g,onShow:N,onHide:b,container:y,autoFocus:w=!0,enforceFocus:D=!0,restoreFocus:_=!0,restoreFocusOptions:C,onEntered:S,onExit:E,onExiting:H,onEnter:P,onEntering:I,onExited:L,backdropClassName:W,manager:T,renderStaticNode:M=!1,...B}=e;const K=(0,t.useRef)();a=(0,x.oU)(a,"offcanvas");const{onToggle:U}=(0,t.useContext)(A.A)||{},[Z,J]=(0,t.useState)(!1),G=c(r||"xs","up");(0,t.useEffect)((()=>{J(r?h&&!G:h)}),[h,r,G]);const Y=(0,m.A)((()=>{null==U||U(),null==b||b()})),z=(0,t.useMemo)((()=>({onHide:Y})),[Y]);const V=(0,t.useCallback)((e=>(0,u.jsx)("div",{...e,className:i()("".concat(a,"-backdrop"),W)})),[W,a]),q=e=>(0,u.jsx)("div",{...e,...B,className:i()(s,r?"".concat(a,"-").concat(r):a,"".concat(a,"-").concat(o)),"aria-labelledby":d,children:n});return(0,u.jsxs)(u.Fragment,{children:[!Z&&(r||M)&&q({}),(0,u.jsx)(k.A.Provider,{value:z,children:(0,u.jsx)(v.A,{show:Z,ref:l,backdrop:p,container:y,keyboard:j,autoFocus:w,enforceFocus:D&&!f,restoreFocus:_,restoreFocusOptions:C,onEscapeKeyDown:g,onShow:N,onHide:Y,onEnter:function(e){e&&(e.style.visibility="visible");for(var l=arguments.length,a=new Array(l>1?l-1:0),s=1;s<l;s++)a[s-1]=arguments[s];null==P||P(e,...a)},onEntering:I,onEntered:S,onExit:E,onExiting:H,onExited:function(e){e&&(e.style.visibility="");for(var l=arguments.length,a=new Array(l>1?l-1:0),s=1;s<l;s++)a[s-1]=arguments[s];null==L||L(...a)},manager:T||(f?(K.current||(K.current=new F.A({handleContainerOverflow:!1})),K.current):(0,F.R)()),transition:R,backdropTransition:O,renderBackdrop:V,renderDialog:q})})]})}));P.displayName="Offcanvas";const I=Object.assign(P,{Body:j,Header:C,Title:H})}}]);
//# sourceMappingURL=2061.6c2ff812.chunk.js.map