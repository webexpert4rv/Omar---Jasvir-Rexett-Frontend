"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[9496,9409],{83225:(e,t,s)=>{s.d(t,{A:()=>o});s(65043);var a=s(25284),i=s(73722),l=s(14282),n=s(24858),d=s(70579);const o=e=>{var t;let{show:s,handleClose:o}=e;const{register:r,handleSubmit:c,formState:{errors:m}}=(0,n.mN)();return(0,d.jsxs)(a.A,{show:s,onHide:o,centered:!0,animation:!0,className:"custom-modal",children:[(0,d.jsx)(a.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,d.jsx)(a.A.Body,{children:(0,d.jsxs)(i.A,{onSubmit:c((e=>{})),children:[(0,d.jsx)(i.A.Group,{className:"mb-4",children:(0,d.jsx)(i.A.Label,{className:"d-block text-center font-18",children:"Are you sure?"})}),(0,d.jsxs)(i.A.Group,{className:"mb-4",children:[(0,d.jsx)(i.A.Control,{...r("transaction_id",{required:"Transaction ID is required"}),className:"common-field",placeholder:"Enter Transaction ID*"}),(null===m||void 0===m?void 0:m.transaction_id)&&(0,d.jsx)("p",{className:"error-message",children:null===m||void 0===m||null===(t=m.transaction_id)||void 0===t?void 0:t.message})]}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(l.A,{type:"submit",variant:"transparent",className:"main-btn px-4",children:"Submit"})})]})})]})}},65843:(e,t,s)=>{s.d(t,{A:()=>f});var a=s(65043),i=s(10615),l=s(40198),n=s(14282),d=s(3538),o=(s(44063),s(78461),s(23156)),r=s(60184),c=s(98394),m=s(83003),v=(s(4970),s(25543)),x=s(86178),u=s.n(x),h=s(74117),j=s(31735),p=s(37194),b=s(62272),g=s(83225),N=s(70579);const f=e=>{var t;let{columns:s,totalPages:x,data:f,page:y,setPage:w,isRaisedByDevAndVendor:A=!1}=e;const{t:_}=(0,h.Bd)(),{timeReportDetails:k,developerTimeReport:D,smallLoader:C}=(0,m.d4)((e=>e.adminData)),[S,F]=(0,a.useState)(null),[B,H]=(0,a.useState)(null),T=(0,m.wA)(),[I,P]=(0,a.useState)(!1),R=()=>P(!I);(0,a.useEffect)((()=>{}),[]);i.A;const E=(0,N.jsx)(i.A,{id:"tooltip",children:" Download Invoice"}),K=(e,t)=>{e.stopPropagation(),window.open(t,"_blank")},L=(0,N.jsx)(i.A,{id:"tooltip",children:"View Timesheet"}),V=(0,N.jsx)(i.A,{id:"tooltip",children:"Close Timesheet"}),U=null===(t=f[0])||void 0===t?void 0:t.invoices;return console.log(S,"expandedRow"),(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table time-table table-bordered table-ui-custom",children:[(0,N.jsx)("thead",{children:s.map(((e,t)=>{let{label:s}=e;return(0,N.jsx)("th",{className:"time-table-head text-start text-uppercase",children:s},t)}))}),(0,N.jsx)("tbody",{children:(null===U||void 0===U?void 0:U.length)>0?null===U||void 0===U?void 0:U.map(((e,t)=>{var i,c,m,x,h,j,g;return(0,N.jsxs)(a.Fragment,{children:[(0,N.jsx)("tr",{children:s.map((s=>{let{key:a,subkey:i}=s;return(0,N.jsx)(N.Fragment,{children:i?(0,N.jsx)("td",{className:"time-table-data text-start",children:(0,N.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,N.jsx)("div",{className:"user-imgbx application-imgbx mx-0 mb-0",children:(0,N.jsx)("img",{src:e[i]?e[i]:"/demo-user.png",className:"user-img"})}),null===e||void 0===e?void 0:e[a]]})}):"associated_with"===a?(0,N.jsx)("td",{className:"time-table-data",children:(0,N.jsx)("p",{className:"associate-text font-14 mt-2 mb-2",children:(0,N.jsx)("span",{className:"associate mb-1 font-14",children:null===e||void 0===e?void 0:e[a]})})}):"invoiceStatus"===a?(0,N.jsx)("td",{className:"time-table-data text-start",children:(0,N.jsx)("span",{className:"white-nowrap ".concat("pending"===(null===e||void 0===e?void 0:e[a])?"status-progress":"status-finished"),children:null===e||void 0===e?void 0:e[a]})}):"invoice"===a?(0,N.jsx)("td",{children:null!==e&&void 0!==e&&e.invoiceUrl?"approved"===(null===e||void 0===e?void 0:e.invoiceStatus)?(0,N.jsx)(l.A,{placement:"bottom",overlay:E,children:(0,N.jsx)(n.A,{variant:"transparent",className:"arrow-btn primary-arrow",onClick:K,children:(0,N.jsx)(d.cIQ,{})})}):(0,N.jsx)(n.A,{className:"main-btn px-3 py-1 font-14",onClick:R,children:"Pay Invoice"}):(0,N.jsx)(n.A,{className:"main-btn px-3 py-1 font-14",disabled:!0,children:"Pay Invoice"})}):"timesheet_status"===a?(0,N.jsx)("td",{children:(0,N.jsxs)("div",{className:"d-flex gap-2 align-items-center justify-content-between",children:[(0,N.jsx)("span",{className:"white-nowrap ".concat(null!==e&&void 0!==e&&e[a]?"status-finished":"status-progress"," "),children:null!==e&&void 0!==e&&e[a]?"Approved":"Under Review"}),(0,N.jsx)(l.A,{placement:"bottom",overlay:B===t?V:L,children:(0,N.jsx)(n.A,{onClick:()=>{var s,a;s=null===e||void 0===e?void 0:e.developer_id,a=t,T((0,p.aQ)(s,(e=>{F((null===S||void 0===S?void 0:S.index)===a?null:{index:a,item:e||null}),H(a==B?null:a)})))},variant:"transparent",className:"main-btn view-time-btn",children:B===t?(0,N.jsx)(r.mx3,{}):(0,N.jsx)(o.$_Y,{})})})]})}):"project_status"===a?(0,N.jsx)("td",{className:"time-table-data text-start",children:(0,N.jsx)("span",{className:"white-nowrap ".concat(null!==e&&void 0!==e&&e[a]?"status-finished":"status-progress"),children:null!==e&&void 0!==e&&e[a]?"Completed":"In-progress"})}):(0,N.jsxs)("td",{className:"time-table-data text-start",children:[null===e||void 0===e?void 0:e[a],"total_hours"===a&&" hrs"]})})}))}),C?(0,N.jsx)(b.A,{}):(null===S||void 0===S?void 0:S.index)===t&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{colSpan:9,children:(0,N.jsxs)("table",{className:"table time-table table-bordered table-ui-custom",children:[(0,N.jsxs)("thead",{children:[(0,v.WN)(null===S||void 0===S?void 0:S.item,"weekly").length>0&&(null===(i=(0,v.WN)(null===S||void 0===S?void 0:S.item,"weekly"))||void 0===i?void 0:i.map(((e,t)=>(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("th",{className:"time-table-head",children:(0,N.jsxs)("span",{children:[e," "]})})})))),(0,N.jsx)("th",{className:"time-table-head",children:(0,N.jsx)("span",{children:"Total Hours"})})]}),(0,N.jsx)("tr",{className:"collapsible-row ".concat((null===S||void 0===S?void 0:S.index)===t?"open":""),children:null!==S&&void 0!==S&&S.item&&(null===(c=Object.keys(null===S||void 0===S?void 0:S.item))||void 0===c?void 0:c.length)>0?(0,N.jsxs)(N.Fragment,{children:[null===S||void 0===S||null===(m=S.item)||void 0===m||null===(x=m.timeReports)||void 0===x?void 0:x.map(((e,t)=>e.report_date?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("td",{className:"time-table-data white-nowrap ".concat(e.is_off_day?"offday-data":"workday-data"),children:(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{className:"".concat(e.is_off_day?"":"timing-text d-inline-block"),children:e.start_time&&null!==e&&void 0!==e&&e.end_time?"".concat(u()(null===e||void 0===e?void 0:e.start_time,"HH:mm").format("h:mm A")," - ").concat(u()(null===e||void 0===e?void 0:e.end_time,"HH:mm").format("h:mm A")," "):null!==e&&void 0!==e&&e.is_holiday?"Holiday":null!==e&&void 0!==e&&e.is_off_day?"Leave":null!==e&&void 0!==e&&e.is_public_holiday?null===e||void 0===e?void 0:e.holiday_name:""}),(null===e||void 0===e?void 0:e.memo)&&(0,N.jsx)("p",{className:"memo-text",children:null!==e&&void 0!==e&&e.memo?null===e||void 0===e?void 0:e.memo:""})]})})}):null!==e&&void 0!==e&&e.week?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("td",{className:"time-table-data white-nowrap ".concat(e.is_off_week?"offday-data":"workday-data"),children:(0,N.jsx)("div",{children:null!==e&&void 0!==e&&e.duration?"".concat(null===e||void 0===e?void 0:e.duration.toFixed("2")," hr"):"Holiday"})})}):(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("td",{className:"time-table-data white-nowrap ".concat(e.is_off_month?"offday-data":"workday-data"),children:(0,N.jsx)("div",{children:null!==e&&void 0!==e&&e.duration?"".concat(null===e||void 0===e?void 0:e.duration.toFixed("2")," hr"):"Holiday"})})}))),(0,N.jsxs)("td",{className:"time-table-data",children:[(null===S||void 0===S||null===(h=S.item)||void 0===h?void 0:h.totalDuration)>0?null===S||void 0===S||null===(j=S.item)||void 0===j?void 0:j.totalDuration.toFixed("2"):null===S||void 0===S||null===(g=S.item)||void 0===g?void 0:g.totalDuration,"hr"]})]}):"No timesheet found"})]})})})]},t)})):(0,N.jsx)(c.A,{})})]})}),x>1?(0,N.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 mb-4",children:[(0,N.jsx)("p",{className:"showing-result"}),(0,N.jsx)(j.A,{number:x,setPage:w,page:y})]}):"",I&&(0,N.jsx)(g.A,{show:I,handleClose:R})]})}},59409:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(65043),i=s(10615),l=s(5328),n=s(83003),d=(s(88521),s(74117)),o=(s(44063),s(29212),s(78461),s(83225)),r=s(36094),c=s(59374),m=(s(20921),s(10971)),v=s(6108),x=s(37194),u=(s(23831),s(65843),s(98394)),h=s(40198),j=s(70579);const p=e=>{let{data:t,columns:s,isRaisedByDev:l=!1}=e;const n=localStorage.getItem("role"),d=(0,j.jsx)(i.A,{id:"tooltip",children:"Download Timesheet"}),o=(0,j.jsx)(i.A,{id:"tooltip",children:"Download Invoice"});return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"table-responsive",children:(0,j.jsxs)("table",{className:"table time-table table-bordered table-ui-custom",children:[(0,j.jsx)("thead",{children:(null===s||void 0===s?void 0:s.length)>0&&(null===s||void 0===s?void 0:s.map(((e,t)=>{let{label:s}=e;return(0,j.jsx)("th",{className:"time-table-head text-start text-uppercase",children:s},t)})))}),(0,j.jsx)("tbody",{children:(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t.map(((e,t)=>(0,j.jsx)("tr",{children:s.map(((t,s)=>{let{key:i,subKey:v,isAction:x}=t;return(0,j.jsx)(a.Fragment,{children:v?(0,j.jsx)("td",{className:"time-table-data text-start",children:(0,j.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,j.jsx)("div",{className:"user-imgbx application-imgbx mx-0 mb-0",children:(0,j.jsx)("img",{src:e[v]?e[v]:"/demo-user.png",className:"user-img"})}),null===e||void 0===e?void 0:e[i]]})}):"projectStatus"===i?(0,j.jsx)("td",{className:"time-table-data text-start",children:(0,j.jsx)("span",{className:"white-nowrap text-capitalize ".concat(null!==e&&void 0!==e&&e[i]?"ended"===(null===e||void 0===e?void 0:e[i])?"status-finished":"status-progress":""),children:"ended"===(null===e||void 0===e?void 0:e[i])?"Completed":null===e||void 0===e?void 0:e[i]})}):"associatedWith"===i?"client"!==n&&(0,j.jsx)("td",{className:"time-table-data",children:(0,j.jsx)("p",{className:"associate-text font-14 mt-2 mb-2",children:(0,j.jsx)("span",{className:"".concat((null===e||void 0===e?void 0:e[i])&&"associate"," mb-1 font-14"),children:null===e||void 0===e?void 0:e[i]})})}):x?(0,j.jsx)("td",{className:"time-table-data text-start",children:(0,j.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[l&&(0,j.jsx)(h.A,{placeholder:"bottom",overlay:d,children:(0,j.jsx)("img",{onClick:()=>{},src:r,className:"approved_icon"})}),(0,j.jsx)(h.A,{placeholder:"bottom",overlay:o,children:(0,j.jsx)("img",{onClick:()=>{(e=>{if(e){const t=window.open(e,"_blank");t?t.focus():alert("Please allow pop-ups for this site to download the file in a new tab.")}})(null===e||void 0===e?void 0:e.invoiceUrl)},src:"pending"===(null===e||void 0===e?void 0:e[i])?m:c,className:"approved_icon"})})]})}):(0,j.jsx)("td",{className:"time-table-data text-start",children:(0,j.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[null===e||void 0===e?void 0:e[i]," ","totalHours"===i&&"hrs"]})})},s)}))},t))):(0,j.jsx)(u.A,{})})]})})})};var b=s(31735),g=s(82476),N=s(39787);const f=()=>{const e=(0,n.wA)(),{invoiceDetails:t,invoiceTotalPage:s,screenLoader:r}=(0,n.d4)((e=>e.adminData)),[c,m]=(0,a.useState)([]),[u,h]=(0,a.useState)(null===v.j5||void 0===v.j5?void 0:v.j5.raisedByDev),f=(new Date).getFullYear(),{t:y}=(0,d.Bd)(),[w,A]=(0,a.useState)(!1),[_,k]=(0,a.useState)({month:"",year:"",developerName:"",projectName:"",invoiceStatus:""}),[D,C]=(0,a.useState)({month:"",year:"",projectName:"",invoiceStatus:"",clientName:""}),[S,F]=(0,a.useState)(1),[B,H]=(0,a.useState)(1);i.A,i.A,i.A;(0,a.useEffect)((()=>{const e=[];for(let t=0;t<=10;t++){const s=f-t;e.push(s)}m(e)}),[]);(0,a.useEffect)((()=>{const e=u===v.j5.raisedByDev?_:D,t=u===v.j5.raisedByDev?S:B,s=(0,v.rA)(e),a="".concat(s,"&page=").concat(t,"&perPage=").concat(v.Is,"&tab=").concat(u);T(a)}),[_,D,u,S,B]);const T=t=>{e((0,x.yI)(t))};return(0,j.jsxs)(j.Fragment,{children:[r?(0,j.jsx)(g.A,{}):(0,j.jsx)("div",{className:"card-box",children:(0,j.jsxs)(l.A.Container,{id:"left-tabs-example",children:[(0,j.jsx)("div",{className:"d-flex justify-content-center",children:(0,j.jsxs)("div",{variant:"pills",className:"weekly-tabs d-flex mb-3",children:[(0,j.jsx)("div",{className:"weekly-tab-item pointer",children:(0,j.jsx)("div",{className:"weekly-tab-link d-flex align-items-center gap-2 ".concat(u===(null===v.j5||void 0===v.j5?void 0:v.j5.raisedByDev)&&"active"),eventKey:"raise-by-devs",onClick:()=>h(null===v.j5||void 0===v.j5?void 0:v.j5.raisedByDev),children:"Raise By Devs/Vendors"})}),(0,j.jsx)("div",{className:"weekly-tab-item pointer",children:(0,j.jsx)("div",{className:"weekly-tab-link ".concat(u===(null===v.j5||void 0===v.j5?void 0:v.j5.raisedToClients)&&"active"),onClick:()=>h(null===v.j5||void 0===v.j5?void 0:v.j5.raisedToClients),children:"Raise To Clients"})})]})}),(0,j.jsxs)(l.A.Content,{children:[u===(null===v.j5||void 0===v.j5?void 0:v.j5.raisedByDev)&&(0,j.jsxs)("div",{eventKey:"raise-by-devs",children:[(0,j.jsx)(N.A,{filters:_,setFilters:k,filterFields:v.aD}),(0,j.jsx)(p,{columns:v.n,data:null===t||void 0===t?void 0:t.invoices,isRaisedByDev:!0}),s>1?(0,j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 mb-4",children:[(0,j.jsx)("p",{className:"showing-result"}),(0,j.jsx)(b.A,{number:s,setPage:F,page:S})]}):""]}),u===(null===v.j5||void 0===v.j5?void 0:v.j5.raisedToClients)&&(0,j.jsxs)("div",{eventKey:"raise-to-clients",children:[(0,j.jsx)(N.A,{filters:_,setFilters:k,filterFields:v.ZH}),(0,j.jsx)(p,{columns:v.VH,data:null===t||void 0===t?void 0:t.invoices}),s>1?(0,j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3 mb-4",children:[(0,j.jsx)("p",{className:"showing-result"}),(0,j.jsx)(b.A,{number:s,setPage:H,page:B})]}):""]})]})]})}),(0,j.jsx)(o.A,{show:w,handleClose:()=>{A(!1)}})]})}},23831:(e,t,s)=>{s(65043),s(6108),s(70579)},69496:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});s(65043);var a=s(59409),i=s(70579);const l=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.default,{})})},59374:(e,t,s)=>{e.exports=s.p+"static/media/invoice_paid.929c3691172c93710fb9.png"},10971:(e,t,s)=>{e.exports=s.p+"static/media/invoice_unpaid.1cabd205dcd2533a8cef.png"},36094:(e,t,s)=>{e.exports=s.p+"static/media/timesheet_approved.e6d34219d395e2824e67.png"},20921:(e,t,s)=>{e.exports=s.p+"static/media/timesheet_notapproved.b4f89fe36e6e059dd0d1.png"}}]);
//# sourceMappingURL=9496.18897b0f.chunk.js.map