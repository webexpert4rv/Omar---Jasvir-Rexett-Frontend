"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[5709],{75112:(e,a,s)=>{s.d(a,{A:()=>_});var l=s(65043),o=s(10615),n=s(61072),r=s(78602),i=s(73722),d=s(60184),t=s(3538),c=s(83003),m=s(74117),p=s(4970),u=s(13368),v=s(82476),x=s(1071),y=s(16713),h=s(75210),j=s(22630);var b=s(24858),g=s(70579);const _=e=>{var a;let{role:s}=e;const _=localStorage.getItem("userId"),[A,f]=(0,l.useState)(null),{t:N}=(0,m.Bd)(),{register:C,setValue:w,control:L,handleSubmit:P,formState:{errors:q,isDirty:S,isValid:D,isSubmitting:k}}=(0,b.mN)({}),I=(0,c.wA)(),[F,T]=(0,l.useState)(!1),[z,B]=(0,l.useState)("inactive"),[G,K]=(0,l.useState)({firstPass:!1,secondPass:!1}),[V,$]=(0,l.useState)(null),{smallLoader:H,userProfileDetails:E,screenLoader:O}=(0,c.d4)((e=>e.developerData)),R="AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc";(0,l.useEffect)((()=>{let e=(e=>({developer:"developer/get-profile",admin:"admin/profile",client:"client/get-profile"}[e]))(s);I((0,u.i7)(e))}),[I]),console.log(E,"userProfileDetails"),(0,l.useEffect)((()=>{var e,a,s,l,o,n,r,i;null!==E&&void 0!==E&&E.data&&(w("name",null===E||void 0===E||null===(e=E.data)||void 0===e?void 0:e.name),w("email",null===E||void 0===E||null===(a=E.data)||void 0===a?void 0:a.email),w("phone_number",null===E||void 0===E||null===(s=E.data)||void 0===s?void 0:s.phone_number),w("address",null===E||void 0===E||null===(l=E.data)||void 0===l?void 0:l.address),w("address_2",null===E||void 0===E||null===(o=E.data)||void 0===o?void 0:o.address_2),w("city",null===E||void 0===E||null===(n=E.data)||void 0===n?void 0:n.city),w("country",null===E||void 0===E||null===(r=E.data)||void 0===r?void 0:r.country),w("passcode",null===E||void 0===E||null===(i=E.data)||void 0===i?void 0:i.passcode))}),[E]);o.A;const U=e=>{if(""===e)return!0;if(!/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e))return"Password must contain at least a symbol, upper and lower case letters and a number";return!0};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:O?(0,g.jsx)(v.A,{}):(0,g.jsxs)("form",{onSubmit:P((e=>{let a=new FormData,s=new FormData;for(const l in e)a.append(l,e[l]);if(s.append("file",V),null==V){let a={...e,user_id:_};I((0,u.pt)(a))}else I((0,p.C7)(s,(a=>{let s={...e,profile_picture:a,user_id:_};I((0,u.pt)(s))})))})),noValidate:!0,children:[(0,g.jsxs)(n.A,{className:"mb-4",children:[(0,g.jsx)(r.A,{md:"6",children:(0,g.jsxs)("div",{className:"inner-form",children:[(0,g.jsx)(h.A,{label:N("clientName")+" *",name:"name",control:L,rules:{required:"Name is required"},error:q.name}),(0,g.jsx)(h.A,{label:N("email")+" *",name:"email",control:L,rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}},error:q.email,readOnly:!0}),(0,g.jsx)(h.A,{label:N("previousPassword"),name:"previous_password",control:L,type:G.firstPass?"text":"password",rules:{validate:U},error:q.previous_password,isPassword:!0,onTogglePassword:()=>K({...G,firstPass:!G.firstPass}),icon:(0,g.jsx)(d.Ny1,{})}),(0,g.jsx)(h.A,{label:N("newPassword"),name:"password",control:L,type:G.secondPass?"text":"password",rules:{validate:U},error:q.password,isPassword:!0,onTogglePassword:()=>K({...G,secondPass:!G.secondPass}),icon:(0,g.jsx)(d.Ny1,{})}),(0,g.jsx)(j.A,{label:N("address")+" *",name:"address",control:L,rules:{required:"Address is required"},error:q.address,apiKey:R,onPlaceSelected:e=>{w("address",e.formatted_address)},onChange:e=>{w("address",e.target.value)},options:{types:["establishment","geocode"]}}),(0,g.jsx)(j.A,{label:N("address")+" 2",name:"address_2",control:L,rules:{required:!1},error:q.address_2,apiKey:R,onPlaceSelected:e=>{console.log(e),w("address_2",e.formatted_address)},onChange:e=>{w("address_2",e.target.value)},options:{types:["establishment","geocode"]}})]})}),(0,g.jsx)(r.A,{md:"6",children:(0,g.jsxs)("div",{children:[(0,g.jsx)(h.A,{label:N("phone")+"*",name:"phone_number",control:L,type:"text",rules:{required:"Phone Number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid phone number"}},error:q.phone_number}),(0,g.jsx)(h.A,{label:N("city")+"*",name:"city",control:L,rules:{required:"City is required",pattern:{value:/^[A-Za-z\s]+$/,message:"City should not contain numbers or special characters"}},error:q.city}),(0,g.jsx)(h.A,{label:N("postCode")+"*",name:"passcode",control:L,rules:{required:"Postcode is required",pattern:{value:/^[0-9]+$/,message:"Postcode should only contain numbers"}},error:q.passcode}),(0,g.jsx)(h.A,{label:N("country")+"*",name:"country",control:L,rules:{required:"Country is required",pattern:{value:/^[A-Za-z\s]+$/,message:"Country should not contain numbers or special characters"}},error:q.country}),(0,g.jsx)(h.A,{label:N("image")+"*",name:"profile_picture",type:"file",control:L,rules:{required:!1},onChange:e=>(e=>{const a=e.target.files[0];if($(a),a){const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(a)}})(e),accept:"image/*"}),(0,g.jsxs)(i.A.Label,{htmlFor:"developer-image",className:"upload-image-label d-block",children:[(0,g.jsx)(t.pT4,{}),N("uploadImage")]}),(0,g.jsx)("div",{children:(0,g.jsx)("img",{src:A||(null===E||void 0===E||null===(a=E.data)||void 0===a?void 0:a.profile_picture),alt:"Selected",className:"uploaded-image"})})]})})]}),(0,g.jsx)("div",{className:"text-center",children:(0,g.jsx)(x.A,{type:"submit",text:N("updateProfile"),className:"main-btn px-5",variant:"transparent",disabled:H,isLoading:H})})]})}),(0,g.jsx)(y.A,{show:F,handleClose:()=>{B(!z),T(!1)},onClick:()=>{let e={user_id:+_,status:z};I((0,p.Ts)(e))},smallLoader:H,text:"Are you sure, you want to disable your account"})]})}},33027:(e,a,s)=>{s.d(a,{A:()=>n});s(65043);var l=s(74117),o=s(70579);const n=e=>{let{children:a}=e;const{t:s}=(0,l.Bd)();return(0,o.jsxs)("section",{className:"card-box",children:[(0,o.jsx)("div",{className:"d-flex gap-3 align-items-center pb-2 mb-3 border-bottom-grey",children:(0,o.jsx)("h2",{className:"section-head-sub mb-0 border-0",children:s("updateYourProfile")})}),a]})}},25709:(e,a,s)=>{s.r(a),s.d(a,{default:()=>_});var l=s(65043),o=s(5328),n=s(92843),r=s(74117),i=s(75112),d=s(33027),t=s(61072),c=s(78602),m=s(73722),p=s(24858),u=s(50423),v=(s(620),s(1071)),x=s(83003),y=s(4970),h=s(29212),j=s(22630),b=s(70579);const g=()=>{var e,a,s,o,n;const i=localStorage.getItem("userId"),[d,g]=(0,l.useState)(null),{register:_,control:A,setValue:f,watch:N,trigger:C,handleSubmit:w,formState:{errors:L,isDirty:P,isValid:q,isSubmitting:S}}=(0,p.mN)({}),D=(0,x.wA)(),{t:k}=(0,r.Bd)(),{smallLoader:I,clientProfileDetails:F,screenLoader:T,approvedLoader:z}=(0,x.d4)((e=>e.clientData));(0,l.useEffect)((()=>{D((0,y.RY)())}),[D]),(0,l.useEffect)((()=>{var e,a,s,l,o,n;(f("company_address",null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.company_address),f("company_name",null===F||void 0===F||null===(a=F.data)||void 0===a?void 0:a.company_name),f("company_tax_id",null===F||void 0===F||null===(s=F.data)||void 0===s?void 0:s.company_tax_id),f("company_type",null===F||void 0===F||null===(l=F.data)||void 0===l?void 0:l.company_type),null!==F&&void 0!==F&&null!==(o=F.data)&&void 0!==o&&o.company_logo)&&g(null===F||void 0===F||null===(n=F.data)||void 0===n?void 0:n.company_logo)}),[F]);return(0,b.jsx)("div",{children:(0,b.jsx)("form",{onSubmit:w((e=>{console.log(e,"companyDetailsSubmit");const a=N(),s={...e,password:a.password?a.password:null,previous_password:a.previous_password?a.previous_password:null,client_type:"company"};if(void 0!==(null===e||void 0===e?void 0:e.company_logo.name)){let a=new FormData;a.append("file",null===e||void 0===e?void 0:e.company_logo),D((0,y.C7)(a,(e=>{let a={...s,company_logo:e,user_id:i};D((0,y.Uj)(a))})))}else{let e={...s,company_logo:d,user_id:i};D((0,y.Uj)(e))}})),noValidate:!0,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(c.A,{md:12,children:(0,b.jsxs)(m.A.Group,{className:"mb-4",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Company Logo"}),(0,b.jsx)(m.A.Control,{..._("company_logo",{onChange:e=>(e=>{var a,s;const l=null===e||void 0===e||null===(a=e.target)||void 0===a||null===(s=a.files)||void 0===s?void 0:s[0];if(l)if(["image/jpeg","image/png","image/jpg","image/svg"].includes(l.type)){const e=URL.createObjectURL(l);f("company_logo",l),g(e)}else g(null),f("company_logo",null)})(e)}),type:"file",id:"company_logo_file",placeholder:"Company Name",className:"common-field d-none"}),(0,b.jsxs)("div",{className:"file_shown",children:[(0,b.jsx)("img",{src:d||h,alt:"Company Logo"}),(0,b.jsx)(m.A.Label,{htmlFor:"company_logo_file",className:"camera-btn mb-0",children:(0,b.jsx)(u.NQQ,{})})]}),(null===L||void 0===L?void 0:L.company_logo)&&(0,b.jsx)("p",{className:"error-message",children:null===(e=L.company_logo)||void 0===e?void 0:e.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Company Name*"}),(0,b.jsx)(m.A.Control,{..._("company_name",{required:"Company name is required"}),type:"text",placeholder:"Company Name",className:"common-field"}),(null===L||void 0===L?void 0:L.company_name)&&(0,b.jsx)("p",{className:"error-message",children:null===(a=L.company_name)||void 0===a?void 0:a.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Type of Company*"}),(0,b.jsxs)(m.A.Select,{..._("company_type",{required:"Company type is required"}),className:"common-field",children:[(0,b.jsx)("option",{disabled:!0,selected:!0,value:"",children:"Please select company type"}),(0,b.jsx)("option",{value:"sole_partnership",children:"Sole Partnership"}),(0,b.jsx)("option",{value:"partnership",children:"Partnership"}),(0,b.jsx)("option",{value:"limited_liability_company(LLC)",children:"Limited Liability Company(LLC)"}),(0,b.jsx)("option",{value:"corporation",children:"Corporation"}),(0,b.jsx)("option",{value:"nonprofit_organization",children:"Nonprofit Organization"}),(0,b.jsx)("option",{value:"cooperative",children:"Cooperative"}),(0,b.jsx)("option",{value:"franchise",children:"Franchise"}),(0,b.jsx)("option",{value:"joint_venture",children:"Joint Venture"})]}),(null===L||void 0===L?void 0:L.company_type)&&(0,b.jsx)("p",{className:"error-message",children:null===(s=L.company_type)||void 0===s?void 0:s.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(j.A,{label:k("Company Address")+" *",name:"address",control:A,rules:{required:"Company Address is required"},error:L.company_address,apiKey:"AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc",onPlaceSelected:e=>{f("company_address",e.formatted_address)},onChange:e=>{f("company_address",e.target.value)},options:{types:["establishment","geocode"]}}),(null===L||void 0===L?void 0:L.company_address)&&(0,b.jsx)("p",{className:"error-message",children:null===(o=L.company_address)||void 0===o?void 0:o.message})]})}),(0,b.jsx)(c.A,{md:6,children:(0,b.jsxs)(m.A.Group,{className:"mb-3",children:[(0,b.jsx)(m.A.Label,{className:"common-label",children:"Tax ID*"}),(0,b.jsx)(m.A.Control,{..._("company_tax_id",{required:"Company tax id is required"}),name:"company_tax_id",type:"text",placeholder:"Tax Id",className:"common-field"}),(null===L||void 0===L?void 0:L.company_tax_id)&&(0,b.jsx)("p",{className:"error-message",children:null===(n=L.company_tax_id)||void 0===n?void 0:n.message})]})}),(0,b.jsx)(c.A,{md:12,children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(v.A,{type:"submit",text:k("updateProfile"),className:"main-btn px-5 mt-4",variant:"transparent",disabled:I,isLoading:I})})})]})})})},_=()=>{const{t:e}=(0,r.Bd)();return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(d.A,{children:(0,b.jsx)("section",{className:"card-box",children:(0,b.jsxs)(o.A.Container,{id:"left-tabs-example",defaultActiveKey:"personal_details",children:[(0,b.jsxs)(n.A,{variant:"pills",className:"mb-4 application-pills",children:[(0,b.jsx)(n.A.Item,{className:"application-item",children:(0,b.jsx)(n.A.Link,{className:"application-link",eventKey:"personal_details",children:"Personal Details"})}),(0,b.jsx)(n.A.Item,{className:"application-item",children:(0,b.jsx)(n.A.Link,{className:"application-link",eventKey:"company_details",children:"Company Details"})})]}),(0,b.jsxs)(o.A.Content,{children:[(0,b.jsx)(o.A.Pane,{eventKey:"personal_details",children:(0,b.jsx)(i.A,{role:"client"})}),(0,b.jsx)(o.A.Pane,{eventKey:"company_details",children:(0,b.jsx)(g,{role:"client"})})]})]})})})})}},16713:(e,a,s)=>{s.d(a,{A:()=>d});s(65043);var l=s(25284),o=s(73722),n=s(14282),r=s(1071),i=(s(4970),s(70579));const d=e=>{let{text:a,show:s,handleClose:d,onClick:t,handleAction:c,smallLoader:m,type:p,startDate:u,endDate:v}=e;return(0,i.jsxs)(l.A,{show:s,onHide:e=>d(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,i.jsx)(l.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,i.jsx)(l.A.Body,{children:(0,i.jsxs)(o.A,{children:[(0,i.jsx)(o.A.Group,{className:"mb-4",children:(0,i.jsx)(o.A.Label,{className:"d-block text-center",children:a})}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(r.A,{type:"submit",text:"Yes",onClick:p?e=>{t(e,{status:p})}:c,className:"main-btn px-4 me-3 font-14 fw-semibold",variant:"transparent",disabled:m,isLoading:m}),(0,i.jsx)(n.A,{variant:"transparent",onClick:d,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4",children:"No"})]})]})})]})}},29212:(e,a,s)=>{e.exports=s.p+"static/media/amazon.1b5b780a2155c1ab6c26.png"}}]);
//# sourceMappingURL=5709.e2a413bf.chunk.js.map