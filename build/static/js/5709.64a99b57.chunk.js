"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[5709],{54922:(e,l,a)=>{a.d(l,{A:()=>A});var o=a(65043),s=a(61072),n=a(78602),i=a(73722),t=a(60184),r=a(3538),d=a(83003),c=a(74117),m=a(4970),u=a(13368),p=a(82476),v=a(1071),x=a(16713),y=a(75210),h=a(22630);var b=a(24858),j=a(2364);var _=a(70579);const g=e=>{var l;let{control:a,name:s,errors:n,options:t,required:r,label:d,type:c}=e;const[m,u]=(0,o.useState)([]);return(0,o.useEffect)((()=>{const e=((e,l)=>{console.log(e,"options inside countries select");let a=[];return a="timezones"===l?null===e||void 0===e?void 0:e.map((e=>({label:e,value:e}))):null===e||void 0===e?void 0:e.map((e=>{let{name:a,code:o,isoCode:s}=e;return{label:a,value:"country"===l?o:s}})),a})(t,c);u(e)}),[t]),(0,_.jsxs)(i.A.Group,{className:"mb-3",children:[(0,_.jsxs)(i.A.Label,{className:"common-label",children:[d,r&&"*"]}),(0,_.jsx)(b.xI,{name:s,control:a,rules:{required:{value:!!r,message:r}},render:e=>{let{field:l}=e;return(0,_.jsx)(j.Ay,{className:"common-field",...l,options:m})}}),n[s]&&(0,_.jsx)("p",{className:"error-message",children:null===(l=n[s])||void 0===l?void 0:l.message})]})};a(37194);const A=e=>{var l;let{role:a}=e;const j=localStorage.getItem("userId"),[A,f]=(0,o.useState)(null),[N,w]=(0,o.useState)(!1),[C,L]=(0,o.useState)(!1),{allTimeZones:P,countriesList:q,statesList:S,citiesList:k,timeZones:F}=(0,d.d4)((e=>e.clientData)),{t:z}=(0,c.Bd)(),{register:D,setValue:I,watch:T,control:G,handleSubmit:E,formState:{errors:V,isDirty:B,isValid:K,isSubmitting:H}}=(0,b.mN)({}),Z=(0,d.wA)(),[O,R]=(0,o.useState)(!1),[U,$]=(0,o.useState)("inactive"),[Q,Y]=(0,o.useState)({firstPass:!1,secondPass:!1}),[M,X]=(0,o.useState)(null),{smallLoader:J,userProfileDetails:W,screenLoader:ee}=(0,d.d4)((e=>e.developerData)),le="AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc";(0,o.useEffect)((()=>{let e=(e=>({developer:"developer/get-profile",admin:"admin/profile",client:"client/get-profile"}[e]))(a);Z((0,u.i7)(e)),Z((0,m.Zg)())}),[Z]),(0,o.useEffect)((()=>{var e,l,a;null!==(e=T("country"))&&void 0!==e&&e.value&&(Z((0,m.tM)(null===(l=T("country"))||void 0===l?void 0:l.value)),Z((0,m.HM)(null===(a=T("country"))||void 0===a?void 0:a.value)),I("time_zone",null),I("state",null))}),[T("country")]),(0,o.useEffect)((()=>{var e,l,a;null!==(e=T("state"))&&void 0!==e&&e.value&&(Z((0,m.YF)(null===(l=T("country"))||void 0===l?void 0:l.value,null===(a=T("state"))||void 0===a?void 0:a.value)),I("city",null))}),[T("state")]),(0,o.useEffect)((()=>{var e,l,a,o,s,n,i,t,r,d,c,m,u;null!==W&&void 0!==W&&W.data&&(I("name",null===W||void 0===W||null===(e=W.data)||void 0===e?void 0:e.name),I("email",null===W||void 0===W||null===(l=W.data)||void 0===l?void 0:l.email),I("phone_number",null===W||void 0===W||null===(a=W.data)||void 0===a?void 0:a.phone_number),I("address",null===W||void 0===W||null===(o=W.data)||void 0===o?void 0:o.address),I("address_2",null===W||void 0===W||null===(s=W.data)||void 0===s?void 0:s.address_2),I("city",{label:null===W||void 0===W||null===(n=W.data)||void 0===n?void 0:n.city,value:null}),I("country",{label:null===W||void 0===W||null===(i=W.data)||void 0===i?void 0:i.country,value:null}),I("passcode",null===W||void 0===W||null===(t=W.data)||void 0===t?void 0:t.passcode),I("time_zone",{label:null===W||void 0===W||null===(r=W.data)||void 0===r?void 0:r.time_zone,value:null===W||void 0===W||null===(d=W.data)||void 0===d?void 0:d.time_zone}),I("state",{label:null===W||void 0===W||null===(c=W.data)||void 0===c?void 0:c.state,value:null}),null!==W&&void 0!==W&&null!==(m=W.data)&&void 0!==m&&m.is_2FA_enabled?I("is_2FA_enabled",null===W||void 0===W||null===(u=W.data)||void 0===u?void 0:u.is_2FA_enabled):I("is_2FA_enabled",!1))}),[W]);const ae=e=>{if(""===e)return!0;if(!/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e))return"Password must contain at least a symbol, upper and lower case letters and a number";return!0},oe=()=>w(!1);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{children:ee?(0,_.jsx)(p.A,{}):(0,_.jsxs)("form",{onSubmit:E((e=>{let l=(e=>({developer:"common/update-profile/",admin:"admin/update-profile",client:"client/update-profile/"}[e]))(a),o=new FormData,s=new FormData;for(const a in e)o.append(a,e[a]);if(s.append("file",M),null==M){var n,i,t,r,d;let a={...e,user_id:j,country:null===e||void 0===e||null===(n=e.country)||void 0===n?void 0:n.label,country_iso_code:null===e||void 0===e?void 0:e.country.value,state:null===e||void 0===e||null===(i=e.state)||void 0===i?void 0:i.label,state_iso_code:null===e||void 0===e||null===(t=e.state)||void 0===t?void 0:t.value,time_zone:null===e||void 0===e||null===(r=e.time_zone)||void 0===r?void 0:r.label,city:null===e||void 0===e||null===(d=e.city)||void 0===d?void 0:d.label};Z((0,u.Vk)(a,l))}else Z((0,m.C7)(s,(a=>{var o,s,n,i,t;let r={...e,profile_picture:a,user_id:j,country:null===e||void 0===e||null===(o=e.country)||void 0===o?void 0:o.label,country_iso_code:null===e||void 0===e?void 0:e.country.value,state:null===e||void 0===e||null===(s=e.state)||void 0===s?void 0:s.label,state_iso_code:null===e||void 0===e||null===(n=e.state)||void 0===n?void 0:n.value,time_zone:null===e||void 0===e||null===(i=e.time_zone)||void 0===i?void 0:i.label,city:null===e||void 0===e||null===(t=e.city)||void 0===t?void 0:t.label};Z((0,u.Vk)(r,l))})))})),noValidate:!0,children:[(0,_.jsxs)(s.A,{className:"mb-4",children:[(0,_.jsx)(n.A,{md:"6",children:(0,_.jsxs)("div",{className:"inner-form",children:[(0,_.jsx)(y.A,{label:z("clientName")+" *",name:"name",control:G,rules:{required:"Name is required"},error:V.name}),(0,_.jsx)(y.A,{label:z("email")+" *",name:"email",control:G,rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}},error:V.email,readOnly:!0}),(0,_.jsx)(y.A,{label:z("previousPassword"),name:"previous_password",control:G,type:Q.firstPass?"text":"password",rules:{validate:ae},error:V.previous_password,isPassword:!0,onTogglePassword:()=>Y({...Q,firstPass:!Q.firstPass}),icon:(0,_.jsx)(t.Ny1,{})}),(0,_.jsx)(y.A,{label:z("newPassword"),name:"password",control:G,type:Q.secondPass?"text":"password",rules:{validate:ae},error:V.password,isPassword:!0,onTogglePassword:()=>Y({...Q,secondPass:!Q.secondPass}),icon:(0,_.jsx)(t.Ny1,{})}),(0,_.jsx)(h.A,{label:z("address")+" *",name:"address",control:G,rules:{required:"Address is required"},error:V.address,apiKey:le,onPlaceSelected:e=>{I("address",e.formatted_address)},onChange:e=>{I("address",e.target.value)},options:{types:["establishment","geocode"]},r:!0}),(0,_.jsx)(h.A,{label:z("address")+" 2",name:"address_2",control:G,rules:{required:!1},error:V.address_2,apiKey:le,onPlaceSelected:e=>{I("address_2",e.formatted_address)},onChange:e=>{I("address_2",e.target.value)},options:{types:["establishment","geocode"]}})]})}),(0,_.jsx)(n.A,{md:"6",children:(0,_.jsxs)("div",{children:[(0,_.jsx)(y.A,{label:z("phone")+"*",name:"phone_number",control:G,type:"text",rules:{required:"Phone Number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid phone number"}},error:V.phone_number}),(0,_.jsx)(g,{name:"country",errors:V,control:G,required:"Country is required",label:"Country",type:"country",options:q}),(0,_.jsx)(g,{name:"state",errors:V,control:G,required:"State is required",label:"State",type:"state",options:S}),(0,_.jsx)(g,{name:"city",errors:V,control:G,label:"City",type:"city",options:k}),(0,_.jsx)(g,{name:"time_zone",errors:V,type:"timezones",control:G,options:F,required:"Time zone is required",label:"Time Zone"}),(0,_.jsx)(y.A,{label:z("postCode")+"*",name:"passcode",control:G,rules:{required:"Postcode is required",pattern:{value:/^[0-9]+$/,message:"Postcode should only contain numbers"}},error:V.passcode}),(0,_.jsx)(i.A.Label,{children:"Image*"}),(0,_.jsxs)(i.A.Label,{htmlFor:"developer-image",className:"upload-image-label d-block",children:[(0,_.jsx)(r.pT4,{}),z("uploadImage")]}),(0,_.jsx)(b.xI,{name:"profile_picture",control:G,rules:{required:!1},render:e=>{let{field:l}=e;return(0,_.jsx)("input",{...l,id:"developer-image",className:"visually-hidden common-field",type:"file",accept:"image/*",onChange:e=>(e=>{const l=e.target.files[0];if(X(l),l){const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(l)}})(e)})}}),(0,_.jsx)("div",{children:(0,_.jsx)("img",{src:A||(null===W||void 0===W||null===(l=W.data)||void 0===l?void 0:l.profile_picture),alt:"Selected",className:"uploaded-image"})})]})}),(0,_.jsx)(n.A,{md:"6",children:(0,_.jsxs)(i.A.Group,{className:"mb-3",children:[(0,_.jsx)(i.A.Label,{className:"common-label",children:"Enable Two Factor Authentication"}),(0,_.jsx)("div",{class:"form-check form-switch toggle-switch-wrapper",children:(0,_.jsx)(b.xI,{name:"is_2FA_enabled",control:G,render:e=>{let{field:l}=e;return(0,_.jsx)("input",{...l,onChange:e=>{(e=>{const{checked:l}=null===e||void 0===e?void 0:e.target;w(!N),L(l)})(e)},checked:!0===T("is_2FA_enabled"),class:"form-check-input toggle-switch-custom",type:"checkbox",role:"switch"})}})})]})})]}),(0,_.jsx)("div",{className:"text-center",children:(0,_.jsx)(v.A,{type:"submit",text:z("updateProfile"),className:"main-btn px-5",variant:"transparent",disabled:J,isLoading:J})})]})}),(0,_.jsx)(x.A,{show:O,handleClose:()=>{$(!U),R(!1)},onClick:()=>{let e={user_id:+j,status:U};Z((0,m.Ts)(e))},smallLoader:J,text:"Are you sure, you want to disable your account"}),N&&(0,_.jsx)(x.A,{show:N,handleClose:oe,handleAction:()=>{I("is_2FA_enabled",C),oe()},smallLoader:J,text:"Are you sure, you want to ".concat(C?"enable":"disable"," two factor authentication")})]})}},33027:(e,l,a)=>{a.d(l,{A:()=>n});a(65043);var o=a(74117),s=a(70579);const n=e=>{let{children:l}=e;const{t:a}=(0,o.Bd)();return(0,s.jsxs)("section",{className:"card-box",children:[(0,s.jsx)("div",{className:"d-flex gap-3 align-items-center pb-2 mb-3 border-bottom-grey",children:(0,s.jsx)("h2",{className:"section-head-sub mb-0 border-0",children:a("updateYourProfile")})}),l]})}},25709:(e,l,a)=>{a.r(l),a.d(l,{default:()=>g});var o=a(65043),s=a(5328),n=a(92843),i=a(74117),t=a(54922),r=a(33027),d=a(61072),c=a(78602),m=a(73722),u=a(24858),p=a(50423),v=(a(620),a(1071)),x=a(83003),y=a(4970),h=a(29212),b=a(22630),j=a(70579);const _=()=>{var e,l,a,s,n;const t=localStorage.getItem("userId"),[r,_]=(0,o.useState)(null),{register:g,control:A,setValue:f,watch:N,trigger:w,handleSubmit:C,formState:{errors:L,isDirty:P,isValid:q,isSubmitting:S}}=(0,u.mN)({}),k=(0,x.wA)(),{t:F}=(0,i.Bd)(),{smallLoader:z,clientProfileDetails:D,screenLoader:I,approvedLoader:T}=(0,x.d4)((e=>e.clientData));(0,o.useEffect)((()=>{k((0,y.RY)())}),[k]),(0,o.useEffect)((()=>{var e,l,a,o,s,n;(f("company_address",null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.company_address),f("company_name",null===D||void 0===D||null===(l=D.data)||void 0===l?void 0:l.company_name),f("company_tax_id",null===D||void 0===D||null===(a=D.data)||void 0===a?void 0:a.company_tax_id),f("company_type",null===D||void 0===D||null===(o=D.data)||void 0===o?void 0:o.company_type),null!==D&&void 0!==D&&null!==(s=D.data)&&void 0!==s&&s.company_logo)&&_(null===D||void 0===D||null===(n=D.data)||void 0===n?void 0:n.company_logo)}),[D]);return(0,j.jsx)("div",{children:(0,j.jsx)("form",{onSubmit:C((e=>{const l=N(),a={...e,password:l.password?l.password:null,previous_password:l.previous_password?l.previous_password:null,client_type:"company"};if(void 0!==(null===e||void 0===e?void 0:e.company_logo.name)){let l=new FormData;l.append("file",null===e||void 0===e?void 0:e.company_logo),k((0,y.C7)(l,(e=>{let l={...a,company_logo:e,user_id:t};k((0,y.Uj)(l))})))}else{let e={...a,company_logo:r,user_id:t};k((0,y.Uj)(e))}})),noValidate:!0,children:(0,j.jsxs)(d.A,{children:[(0,j.jsx)(c.A,{md:12,children:(0,j.jsxs)(m.A.Group,{className:"mb-4",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Company Logo"}),(0,j.jsx)(m.A.Control,{...g("company_logo",{onChange:e=>(e=>{var l,a;const o=null===e||void 0===e||null===(l=e.target)||void 0===l||null===(a=l.files)||void 0===a?void 0:a[0];if(o)if(["image/jpeg","image/png","image/jpg","image/svg"].includes(o.type)){const e=URL.createObjectURL(o);f("company_logo",o),_(e)}else _(null),f("company_logo",null)})(e)}),type:"file",id:"company_logo_file",placeholder:"Company Name",className:"common-field d-none"}),(0,j.jsxs)("div",{className:"file_shown",children:[(0,j.jsx)("img",{src:r||h,alt:"Company Logo"}),(0,j.jsx)(m.A.Label,{htmlFor:"company_logo_file",className:"camera-btn mb-0",children:(0,j.jsx)(p.NQQ,{})})]}),(null===L||void 0===L?void 0:L.company_logo)&&(0,j.jsx)("p",{className:"error-message",children:null===(e=L.company_logo)||void 0===e?void 0:e.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Company Name*"}),(0,j.jsx)(m.A.Control,{...g("company_name",{required:"Company name is required"}),type:"text",placeholder:"Company Name",className:"common-field"}),(null===L||void 0===L?void 0:L.company_name)&&(0,j.jsx)("p",{className:"error-message",children:null===(l=L.company_name)||void 0===l?void 0:l.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Type of Company*"}),(0,j.jsxs)(m.A.Select,{...g("company_type",{required:"Company type is required"}),className:"common-field",children:[(0,j.jsx)("option",{disabled:!0,selected:!0,value:"",children:"Please select company type"}),(0,j.jsx)("option",{value:"sole_partnership",children:"Sole Partnership"}),(0,j.jsx)("option",{value:"partnership",children:"Partnership"}),(0,j.jsx)("option",{value:"limited_liability_company(LLC)",children:"Limited Liability Company(LLC)"}),(0,j.jsx)("option",{value:"corporation",children:"Corporation"}),(0,j.jsx)("option",{value:"nonprofit_organization",children:"Nonprofit Organization"}),(0,j.jsx)("option",{value:"cooperative",children:"Cooperative"}),(0,j.jsx)("option",{value:"franchise",children:"Franchise"}),(0,j.jsx)("option",{value:"joint_venture",children:"Joint Venture"})]}),(null===L||void 0===L?void 0:L.company_type)&&(0,j.jsx)("p",{className:"error-message",children:null===(a=L.company_type)||void 0===a?void 0:a.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(b.A,{label:F("Company Address")+" *",name:"company_address",control:A,rules:{required:"Company Address is required"},error:L.company_address,apiKey:"AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc",onPlaceSelected:e=>{f("company_address",e.formatted_address)},onChange:e=>{f("company_address",e.target.value)},options:{types:["establishment","geocode"]}}),(null===L||void 0===L?void 0:L.company_address)&&(0,j.jsx)("p",{className:"error-message",children:null===(s=L.company_address)||void 0===s?void 0:s.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsxs)(m.A.Group,{className:"mb-3",children:[(0,j.jsx)(m.A.Label,{className:"common-label",children:"Tax ID*"}),(0,j.jsx)(m.A.Control,{...g("company_tax_id",{required:"Company tax id is required"}),name:"company_tax_id",type:"text",placeholder:"Tax Id",className:"common-field"}),(null===L||void 0===L?void 0:L.company_tax_id)&&(0,j.jsx)("p",{className:"error-message",children:null===(n=L.company_tax_id)||void 0===n?void 0:n.message})]})}),(0,j.jsx)(c.A,{md:6,children:(0,j.jsx)("div",{className:"text-center",children:(0,j.jsx)(v.A,{type:"submit",text:F("updateProfile"),className:"main-btn px-5 mt-4",variant:"transparent",disabled:z,isLoading:z})})})]})})})},g=()=>{const{t:e}=(0,i.Bd)();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(r.A,{children:(0,j.jsx)("section",{className:"card-box",children:(0,j.jsxs)(s.A.Container,{id:"left-tabs-example",defaultActiveKey:"personal_details",children:[(0,j.jsxs)(n.A,{variant:"pills",className:"mb-4 application-pills",children:[(0,j.jsx)(n.A.Item,{className:"application-item",children:(0,j.jsx)(n.A.Link,{className:"application-link",eventKey:"personal_details",children:"Personal Details"})}),(0,j.jsx)(n.A.Item,{className:"application-item",children:(0,j.jsx)(n.A.Link,{className:"application-link",eventKey:"company_details",children:"Company Details"})})]}),(0,j.jsxs)(s.A.Content,{children:[(0,j.jsx)(s.A.Pane,{eventKey:"personal_details",children:(0,j.jsx)(t.A,{role:"client"})}),(0,j.jsx)(s.A.Pane,{eventKey:"company_details",children:(0,j.jsx)(_,{role:"client"})})]})]})})})})}},16713:(e,l,a)=>{a.d(l,{A:()=>r});a(65043);var o=a(25284),s=a(73722),n=a(14282),i=a(1071),t=(a(4970),a(70579));const r=e=>{let{text:l,show:a,handleClose:r,onClick:d,handleAction:c,smallLoader:m,type:u,startDate:p,endDate:v}=e;return(0,t.jsxs)(o.A,{show:a,onHide:e=>r(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,t.jsx)(o.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,t.jsx)(o.A.Body,{children:(0,t.jsxs)(s.A,{children:[(0,t.jsx)(s.A.Group,{className:"mb-4",children:(0,t.jsx)(s.A.Label,{className:"d-block text-center",children:l})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.A,{type:"submit",text:"Yes",onClick:u?e=>{d(e,{status:u})}:c,className:"main-btn px-4 me-3 font-14 fw-semibold",variant:"transparent",disabled:m,isLoading:m}),(0,t.jsx)(n.A,{variant:"transparent",onClick:r,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4",children:"No"})]})]})})]})}},29212:(e,l,a)=>{e.exports=a.p+"static/media/amazon.1b5b780a2155c1ab6c26.png"}}]);
//# sourceMappingURL=5709.64a99b57.chunk.js.map