"use strict";(self.webpackChunkrexett=self.webpackChunkrexett||[]).push([[4709],{75112:(e,s,a)=>{a.d(s,{A:()=>f});var r=a(65043),l=a(10615),t=a(61072),o=a(78602),n=a(73722),d=a(60184),i=a(3538),c=a(83003),u=a(74117),m=a(4970),p=a(13368),v=a(82476),x=a(1071),b=a(16713),h=a(75210),j=a(22630);var g=a(24858),A=a(70579);const f=e=>{var s;let{role:a}=e;const f=localStorage.getItem("userId"),[y,w]=(0,r.useState)(null),{t:P}=(0,u.Bd)(),{register:N,setValue:_,control:q,handleSubmit:C,formState:{errors:S,isDirty:k,isValid:L,isSubmitting:D}}=(0,g.mN)({}),F=(0,c.wA)(),[$,T]=(0,r.useState)(!1),[B,I]=(0,r.useState)("inactive"),[z,H]=(0,r.useState)({firstPass:!1,secondPass:!1}),[Z,E]=(0,r.useState)(null),{smallLoader:V,userProfileDetails:G,screenLoader:K}=(0,c.d4)((e=>e.developerData)),O="AIzaSyABX4LTqTLQGg_b3jFOH8Z6_H5CDqn8tbc";(0,r.useEffect)((()=>{let e=(e=>({developer:"developer/get-profile",admin:"admin/profile",client:"client/get-profile"}[e]))(a);F((0,p.i7)(e))}),[F]),console.log(G,"userProfileDetails"),(0,r.useEffect)((()=>{var e,s,a,r,l,t,o,n;null!==G&&void 0!==G&&G.data&&(_("name",null===G||void 0===G||null===(e=G.data)||void 0===e?void 0:e.name),_("email",null===G||void 0===G||null===(s=G.data)||void 0===s?void 0:s.email),_("phone_number",null===G||void 0===G||null===(a=G.data)||void 0===a?void 0:a.phone_number),_("address",null===G||void 0===G||null===(r=G.data)||void 0===r?void 0:r.address),_("address_2",null===G||void 0===G||null===(l=G.data)||void 0===l?void 0:l.address_2),_("city",null===G||void 0===G||null===(t=G.data)||void 0===t?void 0:t.city),_("country",null===G||void 0===G||null===(o=G.data)||void 0===o?void 0:o.country),_("passcode",null===G||void 0===G||null===(n=G.data)||void 0===n?void 0:n.passcode))}),[G]);l.A;const R=e=>{if(""===e)return!0;if(!/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e))return"Password must contain at least a symbol, upper and lower case letters and a number";return!0};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{children:K?(0,A.jsx)(v.A,{}):(0,A.jsxs)("form",{onSubmit:C((e=>{let s=new FormData,a=new FormData;for(const r in e)s.append(r,e[r]);if(a.append("file",Z),null==Z){let s={...e,user_id:f};F((0,p.pt)(s))}else F((0,m.C7)(a,(s=>{let a={...e,profile_picture:s,user_id:f};F((0,p.pt)(a))})))})),noValidate:!0,children:[(0,A.jsxs)(t.A,{className:"mb-4",children:[(0,A.jsx)(o.A,{md:"6",children:(0,A.jsxs)("div",{className:"inner-form",children:[(0,A.jsx)(h.A,{label:P("clientName")+" *",name:"name",control:q,rules:{required:"Name is required"},error:S.name}),(0,A.jsx)(h.A,{label:P("email")+" *",name:"email",control:q,rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}},error:S.email,readOnly:!0}),(0,A.jsx)(h.A,{label:P("previousPassword"),name:"previous_password",control:q,type:z.firstPass?"text":"password",rules:{validate:R},error:S.previous_password,isPassword:!0,onTogglePassword:()=>H({...z,firstPass:!z.firstPass}),icon:(0,A.jsx)(d.Ny1,{})}),(0,A.jsx)(h.A,{label:P("newPassword"),name:"password",control:q,type:z.secondPass?"text":"password",rules:{validate:R},error:S.password,isPassword:!0,onTogglePassword:()=>H({...z,secondPass:!z.secondPass}),icon:(0,A.jsx)(d.Ny1,{})}),(0,A.jsx)(j.A,{label:P("address")+" *",name:"address",control:q,rules:{required:"Address is required"},error:S.address,apiKey:O,onPlaceSelected:e=>{_("address",e.formatted_address)},onChange:e=>{_("address",e.target.value)},options:{types:["establishment","geocode"]}}),(0,A.jsx)(j.A,{label:P("address")+" 2",name:"address_2",control:q,rules:{required:!1},error:S.address_2,apiKey:O,onPlaceSelected:e=>{console.log(e),_("address_2",e.formatted_address)},onChange:e=>{_("address_2",e.target.value)},options:{types:["establishment","geocode"]}})]})}),(0,A.jsx)(o.A,{md:"6",children:(0,A.jsxs)("div",{children:[(0,A.jsx)(h.A,{label:P("phone")+"*",name:"phone_number",control:q,type:"text",rules:{required:"Phone Number is required",pattern:{value:/^[0-9]{10}$/,message:"Please enter a valid phone number"}},error:S.phone_number}),(0,A.jsx)(h.A,{label:P("city")+"*",name:"city",control:q,rules:{required:"City is required",pattern:{value:/^[A-Za-z\s]+$/,message:"City should not contain numbers or special characters"}},error:S.city}),(0,A.jsx)(h.A,{label:P("postCode")+"*",name:"passcode",control:q,rules:{required:"Postcode is required",pattern:{value:/^[0-9]+$/,message:"Postcode should only contain numbers"}},error:S.passcode}),(0,A.jsx)(h.A,{label:P("country")+"*",name:"country",control:q,rules:{required:"Country is required",pattern:{value:/^[A-Za-z\s]+$/,message:"Country should not contain numbers or special characters"}},error:S.country}),(0,A.jsx)(h.A,{label:P("image")+"*",name:"profile_picture",type:"file",control:q,rules:{required:!1},onChange:e=>(e=>{const s=e.target.files[0];if(E(s),s){const e=new FileReader;e.onloadend=()=>{w(e.result)},e.readAsDataURL(s)}})(e),accept:"image/*"}),(0,A.jsxs)(n.A.Label,{htmlFor:"developer-image",className:"upload-image-label d-block",children:[(0,A.jsx)(i.pT4,{}),P("uploadImage")]}),(0,A.jsx)("div",{children:(0,A.jsx)("img",{src:y||(null===G||void 0===G||null===(s=G.data)||void 0===s?void 0:s.profile_picture),alt:"Selected",className:"uploaded-image"})})]})})]}),(0,A.jsx)("div",{className:"text-center",children:(0,A.jsx)(x.A,{type:"submit",text:P("updateProfile"),className:"main-btn px-5",variant:"transparent",disabled:V,isLoading:V})})]})}),(0,A.jsx)(b.A,{show:$,handleClose:()=>{I(!B),T(!1)},onClick:()=>{let e={user_id:+f,status:B};F((0,m.Ts)(e))},smallLoader:V,text:"Are you sure, you want to disable your account"})]})}},33027:(e,s,a)=>{a.d(s,{A:()=>t});a(65043);var r=a(74117),l=a(70579);const t=e=>{let{children:s}=e;const{t:a}=(0,r.Bd)();return(0,l.jsxs)("section",{className:"card-box",children:[(0,l.jsx)("div",{className:"d-flex gap-3 align-items-center pb-2 mb-3 border-bottom-grey",children:(0,l.jsx)("h2",{className:"section-head-sub mb-0 border-0",children:a("updateYourProfile")})}),s]})}},34709:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});a(65043);var r=a(75112),l=a(33027),t=a(70579);const o=()=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.A,{children:(0,t.jsx)(r.A,{role:"admin"})})})})},16713:(e,s,a)=>{a.d(s,{A:()=>d});a(65043);var r=a(25284),l=a(73722),t=a(14282),o=a(1071),n=(a(4970),a(70579));const d=e=>{let{text:s,show:a,handleClose:d,onClick:i,handleAction:c,smallLoader:u,type:m,startDate:p,endDate:v}=e;return(0,n.jsxs)(r.A,{show:a,onHide:e=>d(e),centered:!0,animation:!0,className:"custom-modal",children:[(0,n.jsx)(r.A.Header,{closeButton:!0,className:"border-0 pb-3"}),(0,n.jsx)(r.A.Body,{children:(0,n.jsxs)(l.A,{children:[(0,n.jsx)(l.A.Group,{className:"mb-4",children:(0,n.jsx)(l.A.Label,{className:"d-block text-center",children:s})}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(o.A,{type:"submit",text:"Yes",onClick:m?e=>{i(e,{status:m})}:c,className:"main-btn px-4 me-3 font-14 fw-semibold",variant:"transparent",disabled:u,isLoading:u}),(0,n.jsx)(t.A,{variant:"transparent",onClick:d,className:"outline-main-btn font-14 fw-semibold bg-transparent border-black text-black px-4",children:"No"})]})]})})]})}}}]);
//# sourceMappingURL=4709.35d9fa56.chunk.js.map